<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>laravel use echarts Custom Calendar Icon in vue | Joeの小屋</title><meta name="keywords" content="Backend,Laravel,echarts"><meta name="author" content="Joe"><meta name="copyright" content="Joe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="laravel use echarts Custom Calendar Icon in vue如果是需要比較簡單的圖表可以直接使用vue-echarts，複雜的話建議使用echarts自行封裝，個人覺得vue-echarts的文件比較不詳細 安裝 echartsnpmnpm install echarts 更多安裝方式echarts 官方 安裝 vue-echartsnpm &amp; ESMnp">
<meta property="og:type" content="article">
<meta property="og:title" content="laravel use echarts Custom Calendar Icon in vue">
<meta property="og:url" content="https://joe94113.github.io/2022/02/07/laravel-use-echarts/index.html">
<meta property="og:site_name" content="Joeの小屋">
<meta property="og:description" content="laravel use echarts Custom Calendar Icon in vue如果是需要比較簡單的圖表可以直接使用vue-echarts，複雜的話建議使用echarts自行封裝，個人覺得vue-echarts的文件比較不詳細 安裝 echartsnpmnpm install echarts 更多安裝方式echarts 官方 安裝 vue-echartsnpm &amp; ESMnp">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://imgur.com/uSM4JVh.jpg">
<meta property="article:published_time" content="2022-02-07T14:17:45.000Z">
<meta property="article:modified_time" content="2022-02-07T14:30:39.017Z">
<meta property="article:author" content="Joe">
<meta property="article:tag" content="Backend">
<meta property="article:tag" content="Laravel">
<meta property="article:tag" content="echarts">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://imgur.com/uSM4JVh.jpg">
<meta property="fb:app_id" content="140817571582634"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://joe94113.github.io/2022/02/07/laravel-use-echarts/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="-7-rSDQgi9r0SZgJLXNAs58udKxQrWHwhZKhovoppV8"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-177446378-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-177446378-1');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查詢的內容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":100,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Joe","link":"連結: ","source":"來源: Joeの小屋","info":"著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切換為繁體","cht_to_chs":"你已切換為簡體","day_to_night":"你已切換為深色模式","night_to_day":"你已切換為淺色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'laravel use echarts Custom Calendar Icon in vue',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-07 22:30:39'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-clock/lib/clock.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/css/swiper.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiperstyle.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-filter-gitcalendar/lib/gitcalendar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.min.css" media="defer" onload="this.media='all'"><script async src="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/carousel-touch.min.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">73</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">標籤</div><div class="length-num">33</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分類</div><div class="length-num">10</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://ylui-joe94113.vercel.app"><i class="fa-fw fas fa-desktop"></i><span> 桌面</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-newspaper"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-umbrella-beach"></i><span> 碎碎念</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清單</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 遊戲</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 書籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 電影</span></a></li><li><a class="site-page child" href="/air-conditioner/"><i class="fa-fw fas fa-fan"></i><span> 空調房</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-friends"></i><span> 友鏈</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-thumbs-up"></i><span> 友鏈朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-circle"></i><span> 關於</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於我</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw far fa-calendar-alt"></i><span> 時間線</span></a></li><li><a class="site-page child" href="/aboutBlog/"><i class="fa-fw fas fa-rss"></i><span> 關於本站</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://joe94113.instatus.com/"><i class="fa-fw fas fa-signal"></i><span> 本站狀態</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://hugo-blog-gamma.vercel.app/"><i class="fa-fw fab fa-pied-piper-alt"></i><span> 舊站</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://imgur.com/uSM4JVh.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Joeの小屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://ylui-joe94113.vercel.app"><i class="fa-fw fas fa-desktop"></i><span> 桌面</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-newspaper"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-umbrella-beach"></i><span> 碎碎念</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清單</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 遊戲</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 書籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 電影</span></a></li><li><a class="site-page child" href="/air-conditioner/"><i class="fa-fw fas fa-fan"></i><span> 空調房</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-friends"></i><span> 友鏈</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-thumbs-up"></i><span> 友鏈朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-circle"></i><span> 關於</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於我</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw far fa-calendar-alt"></i><span> 時間線</span></a></li><li><a class="site-page child" href="/aboutBlog/"><i class="fa-fw fas fa-rss"></i><span> 關於本站</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://joe94113.instatus.com/"><i class="fa-fw fas fa-signal"></i><span> 本站狀態</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://hugo-blog-gamma.vercel.app/"><i class="fa-fw fab fa-pied-piper-alt"></i><span> 舊站</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">laravel use echarts Custom Calendar Icon in vue</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2022-02-07T14:17:45.000Z" title="發表於 2022-02-07 22:17:45">2022-02-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2022-02-07T14:30:39.017Z" title="更新於 2022-02-07 22:30:39">2022-02-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Laravel/">Laravel</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字數總計:</span><span class="word-count">4.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時長:</span><span>28分鐘</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="laravel use echarts Custom Calendar Icon in vue"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="laravel-use-echarts-Custom-Calendar-Icon-in-vue"><a href="#laravel-use-echarts-Custom-Calendar-Icon-in-vue" class="headerlink" title="laravel use echarts Custom Calendar Icon in vue"></a>laravel use echarts Custom Calendar Icon in vue</h1><p>如果是需要比較簡單的圖表可以直接使用<code>vue-echarts</code>，複雜的話建議使用<code>echarts</code>自行封裝，個人覺得<code>vue-echarts</code>的文件比較不詳細</p>
<h2 id="安裝-echarts"><a href="#安裝-echarts" class="headerlink" title="安裝 echarts"></a>安裝 echarts</h2><h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><p><code>npm install echarts</code></p>
<h3 id="更多安裝方式"><a href="#更多安裝方式" class="headerlink" title="更多安裝方式"></a>更多安裝方式</h3><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/download.html">echarts 官方</a></p>
<h2 id="安裝-vue-echarts"><a href="#安裝-vue-echarts" class="headerlink" title="安裝 vue-echarts"></a>安裝 vue-echarts</h2><h3 id="npm-amp-ESM"><a href="#npm-amp-ESM" class="headerlink" title="npm &amp; ESM"></a>npm &amp; ESM</h3><p><code>npm install echarts vue-echarts</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ECharts <span class="keyword">from</span> <span class="string">&#x27;vue-echarts&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; use &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/core&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// import ECharts modules manually to reduce bundle size</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  CanvasRenderer</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;echarts/renderers&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  BarChart</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;echarts/charts&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  GridComponent,</span><br><span class="line">  TooltipComponent</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;echarts/components&#x27;</span></span><br><span class="line"></span><br><span class="line">use([</span><br><span class="line">  CanvasRenderer,</span><br><span class="line">  BarChart,</span><br><span class="line">  GridComponent,</span><br><span class="line">  TooltipComponent</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = createApp(...)</span><br><span class="line"></span><br><span class="line"><span class="comment">// register globally (or you can do it locally)</span></span><br><span class="line">app.component(<span class="string">&#x27;v-chart&#x27;</span>, ECharts)</span><br><span class="line"></span><br><span class="line">app.mount(...)</span><br></pre></td></tr></table></figure>
<h3 id="CDN-amp-Global-variable"><a href="#CDN-amp-Global-variable" class="headerlink" title="CDN &amp; Global variable"></a>CDN &amp; Global variable</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@3.2.26&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/echarts@5.2.2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue-echarts@6.0.2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = Vue.createApp(...)</span><br><span class="line"></span><br><span class="line"><span class="comment">// register globally (or you can do it locally)</span></span><br><span class="line">app.component(<span class="string">&#x27;v-chart&#x27;</span>, VueECharts)</span><br></pre></td></tr></table></figure>
<p>安裝相關參考<a target="_blank" rel="noopener" href="https://github.com/ecomfe/vue-echarts/blob/main/README.zh-Hans.md">官方</a></p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><h3 id="範例一"><a href="#範例一" class="headerlink" title="範例一"></a>範例一</h3><p>此範例只使用<code>echarts</code>沒有使用到<code>vue-echarts</code>，因使用<code>vue-echarts</code>月份變動更改資料時會出現<code>Error: setOption should not be called during main process</code>，苦無找不到解決方法，還有小弟實力比較弱，於是使用文件比較詳細的<code>echarts</code>來實作。</p>
<h4 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h4><p>將<code>range</code>資料從父祖件傳入，<code>data</code>是使用<code>axios</code>的方式去取得資料</p>
<p>傳入資料大概長這樣<code>[[&#39;2017-01-01&#39;, &#39;2|0|1|3&#39;], [&#39;2017-01-02&#39;, &#39;2&#39;]]</code>，日期加上圖片<code>icon</code>的<code>array</code>位置</p>
<p><code>mounted()</code>裡的<code>nextTick</code> 的觸發時機就是在呼叫方法後，然後的第一次重新渲染完畢後。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>日期: &#123;&#123; this.date &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">id</span>=<span class="string">&quot;main&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">class</span>=<span class="string">&quot;chart&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">:range</span>=<span class="string">&quot;this.date&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;lastMonth&quot;</span>&gt;</span>上個月<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;nextMonth&quot;</span>&gt;</span>下個月<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&quot;echarts/core&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; CalendarComponent, TooltipComponent &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/components&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; CustomChart &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/charts&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; CanvasRenderer &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/renderers&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">echarts.use([CalendarComponent, TooltipComponent, CustomChart, CanvasRenderer]);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">name</span>: <span class="string">&quot;example-component&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">props</span>: [<span class="string">&quot;range&quot;</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">const</span> layouts = [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            [[<span class="number">0</span>, <span class="number">0</span>]],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [-<span class="number">0.25</span>, <span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [<span class="number">0.25</span>, <span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [<span class="number">0</span>, -<span class="number">0.2</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [-<span class="number">0.2</span>, <span class="number">0.2</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [<span class="number">0.2</span>, <span class="number">0.2</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [-<span class="number">0.25</span>, -<span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [-<span class="number">0.25</span>, <span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [<span class="number">0.25</span>, -<span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                [<span class="number">0.25</span>, <span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        ];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> pathes = [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="string">&quot;M936.857805 523.431322c0 0-42.065715-68.89513-88.786739-68.89513-46.68416 0-95.732122 71.223091-95.732122 71.223091s-44.28544-72.503296-93.440922-71.152538c-35.565466 0.977306-62.89705 30.882406-79.124275 64.06615L579.773747 790.800797c-3.253248 37.391565-5.677568 50.904371-12.002816 69.63497-6.651802 19.698688-19.544883 35.227341-31.650099 45.909606-14.30231 12.621414-29.59831 22.066586-45.854208 27.424563-16.28969 5.362074-30.098739 6.496973-51.536794 6.496973-19.498906 0-36.95104-2.963456-52.395418-8.850534-15.410586-5.887078-28.420403-14.313984-39.034573-25.246003-10.613146-10.930995-18.757939-24.08151-24.435507-39.525171-5.676544-15.443763-8.532685-40.195482-8.532685-59.270963l0-26.232454 74.435273 0c0 24.644301-0.17705 64.452915 8.81408 77.006848 9.02697 12.515021 22.756147 18.092032 41.148826 18.791014 16.728678 0.636518 30.032179-8.061645 30.032179-8.061645s11.922022-10.5472 14.992077-19.756954c2.674995-8.025805 3.565363-22.180147 3.565363-22.180147s2.080461-21.789286 2.080461-34.234675L489.399906 514.299369c-16.678502-18.827776-43.801395-61.938688-82.756096-60.927693-54.699008 1.419366-100.422144 70.059622-100.422144 70.059622s-56.065126-70.059622-93.440922-70.059622c-37.376717 0-91.077939 70.059622-91.077939 70.059622S105.343488 156.737741 476.742042 119.363584l53.70327-74.714624 51.373056 74.714624C964.889395 142.740992 936.857805 523.431322 936.857805 523.431322z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="string">&quot;M533.504 268.288q33.792-41.984 71.68-75.776 32.768-27.648 74.24-50.176t86.528-19.456q63.488 5.12 105.984 30.208t67.584 63.488 34.304 87.04 6.144 99.84-17.92 97.792-36.864 87.04-48.64 74.752-53.248 61.952q-40.96 41.984-85.504 78.336t-84.992 62.464-73.728 41.472-51.712 15.36q-20.48 1.024-52.224-14.336t-69.632-41.472-79.872-61.952-82.944-75.776q-26.624-25.6-57.344-59.392t-57.856-74.24-46.592-87.552-21.504-100.352 11.264-99.84 39.936-83.456 65.536-61.952 88.064-35.328q24.576-5.12 49.152-1.536t48.128 12.288 45.056 22.016 40.96 27.648q45.056 33.792 86.016 80.896z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="string">&quot;M741.06368 733.310464c8.075264-29.262438 20.615373-40.632422 14.64105-162.810061C966.089728 361.789952 967.93897 72.37847 967.855002 54.693683c0.279347-0.279347 0.418509-0.419533 0.418509-0.419533s-0.17705-0.00512-0.428749-0.00512c0-0.251699 0-0.428749 0-0.428749s-0.139162 0.14633-0.418509 0.425677c-17.695744-0.083866-307.10784 1.760051-515.833958 212.142592-122.181632-5.984256-133.55305 6.563533-162.815693 14.644531C235.35063 295.798886 103.552614 436.975309 90.630758 486.076621c-12.921856 49.105408 39.634227 56.859034 58.579558 58.581197 18.953421 1.724314 121.471386-9.475789 130.09111 4.309094 0 0 16.367411 11.200102 17.226035 41.346662 0.850432 29.796659 15.173222 71.354163 37.123994 97.267302-0.028672 0.027648-0.05632 0.054272-0.083866 0.074752 0.158618 0.13097 0.316211 0.261939 0.474829 0.390861 0.129946 0.149402 0.261939 0.319283 0.393011 0.468685 0.019456-0.019456 0.04608-0.049152 0.075776-0.075674 25.918362 21.961216 67.477504 36.272128 97.269248 37.122458 30.149837 0.859546 41.354547 17.234534 41.354547 17.234534 13.779354 8.608051 2.583962 111.122842 4.302131 130.075546 1.727386 18.95168 9.477222 71.498445 58.579558 58.576077C585.12896 918.526771 726.311117 786.734182 741.06368 733.310464zM595.893555 426.206003c-39.961702-39.965184-39.961702-104.75991 0-144.720077 39.970918-39.96928 104.768307-39.96928 144.730112 0 39.970918 39.960064 39.970918 104.75479 0 144.720077C700.661862 466.171187 635.864474 466.171187 595.893555 426.206003zM358.53312 769.516032c-31.923302-4.573184-54.890394-18.410291-71.41847-35.402342-16.984474-16.526438-30.830387-39.495475-35.405824-71.420621-4.649062-28.082586-20.856832-41.167565-38.76649-38.763827-17.906586 2.40681-77.046886 66.714419-80.857805 89.475891-3.80887 22.752154 29.271859 12.081152 46.424166 27.654861 17.151283 15.590093-2.139853 61.93664-14.733107 86.845952-6.441984 12.735078-10.289766 26.42176-4.22953 33.76087 7.346586 6.070272 21.03593 2.222592 33.769472-4.220109 24.912384-12.585677 71.258829-31.872922 86.842368-14.731469 15.583539 17.160806 4.911002 50.229965 27.674419 46.419251 22.754099-3.807744 87.065395-62.946611 89.466163-80.85248C399.70857 790.374093 386.627072 774.166938 358.53312 769.516032z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="string">&quot;M848.794624 939.156685 571.780416 939.156685 571.780416 653.17123l341.897539 0 0 221.100654C913.677926 909.960704 884.482867 939.156685 848.794624 939.156685zM571.780403 318.743552c-11.861606-3.210138-31.443354-8.36864-39.829709-16.176435-0.596582-0.561766-1.016218-1.246413-1.613824-1.841971-0.560845 0.596582-1.016218 1.280205-1.613824 1.841971-8.386355 7.807795-15.96631 12.965274-27.827917 16.176435l0 263.544325L141.030675 582.287877 141.030675 355.202884c0-35.687834 29.195059-64.882688 64.883302-64.882688l150.649125 0c-16.984474-9.525965-32.846438-20.56233-46.111027-32.932045-60.250624-56.144691-71.129907-137.062605-24.283034-180.767027 19.615539-18.264986 46.252237-27.124736 75.026739-27.124736 39.933133 0 83.972915 17.070797 118.995968 49.706086 20.353331 18.983322 37.722624 43.405619 50.145075 69.056819 12.457267-25.6512 29.791744-50.074419 50.180915-69.056819 35.022029-32.63529 79.062835-49.706086 118.994944-49.706086 28.74071 0 55.410176 8.860774 75.025715 27.124736 46.882611 43.704422 35.96759 124.622336-24.283034 180.767027-13.264589 12.368691-29.127578 23.40608-46.111027 32.932045l144.649234 0c35.688243 0 64.882278 29.195981 64.882278 64.882688l0 227.084948L571.780416 582.287833 571.780416 318.743508zM435.064218 147.625267c-21.476966-19.965747-49.094144-31.913882-73.868288-31.913882-7.404954 0-21.125018 1.211597-29.863322 9.386803-2.000691 1.824563-8.070144 7.439462-8.070144 21.369754 0 15.650406 8.492749 40.24873 32.319386 62.477926 29.124506 27.12576 77.202432 47.601152 111.76704 47.601152 12.176794 0 16.492237-2.666701 16.527053-2.702541C489.524736 242.54505 475.664486 185.453773 435.064218 147.625267zM577.78135 254.790963c0 0 0.034816-0.034816 0.069632-0.034816 0.807424 0 5.50871 1.790771 15.509914 1.790771 34.564608 0 82.64151-20.47529 111.76704-47.601152 23.826637-22.229299 32.283546-46.810112 32.283546-62.442189 0-13.930291-6.033613-19.562496-8.035328-21.404467-8.77312-8.17623-22.457344-9.386803-29.864346-9.386803-24.808038 0-52.390298 11.948134-73.867264 31.913882C585.325466 185.208218 571.358822 241.73865 577.78135 254.790963zM500.89513 939.156685 205.914017 939.156685c-35.688243 0-64.883302-29.195981-64.883302-64.883712L141.030714 653.17123l359.864462 0L500.895177 939.15666z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        ];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> colors = [<span class="string">&quot;#c4332b&quot;</span>, <span class="string">&quot;#16B644&quot;</span>, <span class="string">&quot;#6862FD&quot;</span>, <span class="string">&quot;#FDC763&quot;</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">option</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">tooltip</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">calendar</span>: [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">left</span>: <span class="string">&quot;center&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">top</span>: <span class="string">&quot;middle&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">cellSize</span>: [<span class="number">100</span>, <span class="number">100</span>], <span class="comment">// 日歷單元格的大小</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">yearLabel</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;, <span class="comment">// 年份文字</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">orient</span>: <span class="string">&quot;vertical&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">dayLabel</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="attr">firstDay</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="attr">nameMap</span>: <span class="string">&quot;cn&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">monthLabel</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="attr">show</span>: <span class="literal">true</span>, <span class="comment">// 隱藏月份文字</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">range</span>: <span class="built_in">this</span>.range,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">series</span>: [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">type</span>: <span class="string">&quot;custom&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">coordinateSystem</span>: <span class="string">&quot;calendar&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">renderItem</span>: <span class="function"><span class="keyword">function</span> (<span class="params">params, api</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> cellPoint = api.coord(api.value(<span class="number">0</span>));</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> cellWidth = params.coordSys.cellWidth;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> cellHeight = params.coordSys.cellHeight;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> value = api.value(<span class="number">1</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> events = value &amp;&amp; value.split(<span class="string">&quot;|&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">if</span> (<span class="built_in">isNaN</span>(cellPoint[<span class="number">0</span>]) || <span class="built_in">isNaN</span>(cellPoint[<span class="number">1</span>])) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="keyword">return</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> group = &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">type</span>: <span class="string">&quot;group&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">children</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    (layouts[events.length - <span class="number">1</span>] || []).map(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        <span class="function"><span class="keyword">function</span> (<span class="params">itemLayout, index</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">type</span>: <span class="string">&quot;path&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">shape</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">pathData</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        pathes[+events[index]],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">x</span>: -<span class="number">8</span>, <span class="comment">// 圖標左右偏移量</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">y</span>: -<span class="number">4</span>, <span class="comment">// 圖標上下偏移量</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">width</span>: <span class="number">20</span>, <span class="comment">// 圖標寬度</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">height</span>: <span class="number">20</span>, <span class="comment">// 圖標高度</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">position</span>: [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    cellPoint[<span class="number">0</span>] +</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        echarts.number.linearMap(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            itemLayout[<span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [-<span class="number">0.5</span>, <span class="number">0.5</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                -cellWidth / <span class="number">2</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                cellWidth / <span class="number">2</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            ]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        ),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    cellPoint[<span class="number">1</span>] +</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        echarts.number.linearMap(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            itemLayout[<span class="number">1</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [-<span class="number">0.5</span>, <span class="number">0.5</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                -cellHeight /</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                    <span class="number">2</span> +</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                    <span class="number">20</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                cellHeight / <span class="number">2</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            ]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        ),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">style</span>: api.style(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">fill</span>: colors[</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        +events[index]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                &#125;),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                            &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    ) || [],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            group.children.push(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">type</span>: <span class="string">&quot;text&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">style</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">x</span>: cellPoint[<span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">y</span>: cellPoint[<span class="number">1</span>] - cellHeight / <span class="number">2</span> + <span class="number">15</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">text</span>: echarts.format.formatTime(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        <span class="string">&quot;dd&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        api.value(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    ),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">fill</span>: <span class="string">&quot;#777&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">textFont</span>: api.font(&#123; <span class="attr">fontSize</span>: <span class="number">20</span> &#125;), <span class="comment">// 日期文字大小</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">return</span> group;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">dimensions</span>: [<span class="string">&quot;日期&quot;</span>, <span class="string">&quot;折扣類型&quot;</span>], <span class="comment">// 鼠標滑過時顯示的文字</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="comment">// data: getVirtulData(this.storeId),</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">data</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">date</span>: <span class="built_in">this</span>.range,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">myChart</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">format</span>: <span class="string">&quot;YYYY-MM&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 如果range变化，则重新设置date</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="title">date</span>(<span class="params">val</span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.date = val;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(<span class="string">&quot;日期變更&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="title">nextMonth</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span> (</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                moment(<span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range).format(<span class="built_in">this</span>.format) &lt;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                moment().add(<span class="number">1</span>, <span class="string">&quot;y&quot;</span>).format(<span class="built_in">this</span>.format)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            ) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range = moment(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                )</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    .add(<span class="number">1</span>, <span class="string">&quot;M&quot;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    .format(<span class="built_in">this</span>.format);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.date = <span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.repaint(); <span class="comment">// 重新繪製</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="title">lastMonth</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span> (</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                moment(<span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range).format(<span class="built_in">this</span>.format) &gt;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                moment().format(<span class="built_in">this</span>.format)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            ) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range = moment(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                )</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    .add(-<span class="number">1</span>, <span class="string">&quot;M&quot;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    .format(<span class="built_in">this</span>.format);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.date = <span class="built_in">this</span>.option.calendar[<span class="number">0</span>].range;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.repaint(); <span class="comment">// 重新繪製</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="title">getVirtulData</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> self = <span class="built_in">this</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            axios</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                .post(<span class="string">&quot;/store-chart-data&quot;</span>, &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">store_id</span>: self.storeId,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;取得圖表資料...&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">// console.log(self.storeId);</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">// console.log(response.data);</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    self.option.series[<span class="number">0</span>].data = response.data;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    self.drawPid(<span class="string">&quot;main&quot;</span>); <span class="comment">// 資料載入完畢後，重繪圖表</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(error);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="title">drawPid</span>(<span class="params">id</span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// 基於準備好的dom，初始化echarts實例</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.myChart = echarts.init(<span class="built_in">document</span>.getElementById(id));</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// 使用鋼指定的配置項目和數據顯示圖表</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.myChart.setOption(<span class="built_in">this</span>.option);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="title">repaint</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.myChart.clear();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.myChart.setOption(<span class="built_in">this</span>.option);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.getVirtulData();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">&#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span></span><br><span class="line"><span class="css"><span class="xml"><span class="selector-class">.chart</span> &#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">    <span class="attribute">height</span>: <span class="number">800px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">&#125;</span></span></span><br><span class="line"><span class="css"><span class="xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Carbon</span>\<span class="title">Carbon</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Carbon</span>\<span class="title">CarbonPeriod</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getChartData</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$data</span> = [];</span><br><span class="line"></span><br><span class="line">    <span class="variable">$now</span> = Carbon::now();</span><br><span class="line">    <span class="variable">$oneYear</span> = CarbonPeriod::create(<span class="variable">$now</span>-&gt;toDateString(), <span class="variable">$now</span>-&gt;addYear()-&gt;toDateString());</span><br><span class="line">    <span class="comment">// 需在data錢加上一筆空資料，否則圖表第一筆資料為一個圖標會出錯</span></span><br><span class="line">    array_push(<span class="variable">$data</span>, [Carbon::yesterday()-&gt;format(<span class="string">&#x27;Y-m-d&#x27;</span>), <span class="string">&#x27;&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 一年迴圈</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$oneYear</span> <span class="keyword">as</span> <span class="variable">$date</span>) &#123;</span><br><span class="line">        <span class="variable">$random1</span> = randon(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">        <span class="variable">$random2</span> = randon(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">        array_push(<span class="variable">$data</span>, [<span class="variable">$date</span>-&gt;format(<span class="string">&#x27;Y-m-d&#x27;</span>), <span class="string">&quot;<span class="subst">$random1</span>|<span class="subst">$random2</span>&quot;</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$data</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="遇到-Bug"><a href="#遇到-Bug" class="headerlink" title="遇到 Bug"></a>遇到 Bug</h4><p>資料的第一筆如果是<code>[[&#39;2022-01-01&#39;, &#39;0&#39;]]</code>只有一個圖標，會發生錯誤，圖標會全部都沒顯示，目前還沒找到原因，所以我就在資料的最前面加上一筆空的就可以了<br><code>array_push($data, [Carbon::yesterday()-&gt;format(&#39;Y-m-d&#39;), &#39;&#39;]);</code></p>
<h4 id="註冊組件"><a href="#註冊組件" class="headerlink" title="註冊組件"></a>註冊組件</h4><p>到<code>app.js</code>註冊組件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> CalendarCharts <span class="keyword">from</span> <span class="string">&quot;./components/CalendarCharts.vue&quot;</span>;</span><br><span class="line">Vue.component(<span class="string">&quot;calendar-charts&quot;</span>, CalendarCharts);</span><br></pre></td></tr></table></figure>
<h4 id="Blade-中使用"><a href="#Blade-中使用" class="headerlink" title="Blade 中使用"></a>Blade 中使用</h4><p>在<code>blade</code>中使用<code>&lt;example-component :range=&quot;range&quot;&gt;&lt;/example-component&gt;</code><br>將<code>range</code>傳入日期資料<code>&#39;2017-01&#39;</code>就是一個月份，也可以是單日<code>&#39;2017-01-01&#39;</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">example-component</span> <span class="attr">:range</span>=<span class="string">&quot;range&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">example-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">range</span>: moment().format(<span class="string">&quot;YYYY-MM&quot;</span>),</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h4><p>可以選擇鼠標移過去的顯示值，只顯示哪幾個 index 內容</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">  series: &#123;</span><br><span class="line">    encode: &#123;</span><br><span class="line">      tooltip: [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h4><p>效果如下圖</p>
<p><img src="https://i.imgur.com/nQIFkBt.gif" alt=""></p>
<h3 id="範例二"><a href="#範例二" class="headerlink" title="範例二"></a>範例二</h3><h4 id="Vue-1"><a href="#Vue-1" class="headerlink" title="Vue"></a>Vue</h4><p>依照<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">echarts</a>官方範例更改成<code>vue-echarts</code>組件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">v-chart</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">class</span>=<span class="string">&quot;chart&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">:option</span>=<span class="string">&quot;option&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">:autoresize</span>=<span class="string">&quot;true&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        &gt;</span><span class="tag">&lt;/<span class="name">v-chart</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&quot;echarts/core&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; use &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/core&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; CalendarComponent, TooltipComponent &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/components&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; CustomChart &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/charts&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; CanvasRenderer &#125; <span class="keyword">from</span> <span class="string">&quot;echarts/renderers&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> VChart <span class="keyword">from</span> <span class="string">&quot;vue-echarts&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">use([CalendarComponent, TooltipComponent, CustomChart, CanvasRenderer]);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">const</span> layouts = [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    [[<span class="number">0</span>, <span class="number">0</span>]],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [-<span class="number">0.25</span>, <span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [<span class="number">0.25</span>, <span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [<span class="number">0</span>, -<span class="number">0.2</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [-<span class="number">0.2</span>, <span class="number">0.2</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [<span class="number">0.2</span>, <span class="number">0.2</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [-<span class="number">0.25</span>, -<span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [-<span class="number">0.25</span>, <span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [<span class="number">0.25</span>, -<span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        [<span class="number">0.25</span>, <span class="number">0.25</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">const</span> pathes = [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="string">&quot;M936.857805 523.431322c0 0-42.065715-68.89513-88.786739-68.89513-46.68416 0-95.732122 71.223091-95.732122 71.223091s-44.28544-72.503296-93.440922-71.152538c-35.565466 0.977306-62.89705 30.882406-79.124275 64.06615L579.773747 790.800797c-3.253248 37.391565-5.677568 50.904371-12.002816 69.63497-6.651802 19.698688-19.544883 35.227341-31.650099 45.909606-14.30231 12.621414-29.59831 22.066586-45.854208 27.424563-16.28969 5.362074-30.098739 6.496973-51.536794 6.496973-19.498906 0-36.95104-2.963456-52.395418-8.850534-15.410586-5.887078-28.420403-14.313984-39.034573-25.246003-10.613146-10.930995-18.757939-24.08151-24.435507-39.525171-5.676544-15.443763-8.532685-40.195482-8.532685-59.270963l0-26.232454 74.435273 0c0 24.644301-0.17705 64.452915 8.81408 77.006848 9.02697 12.515021 22.756147 18.092032 41.148826 18.791014 16.728678 0.636518 30.032179-8.061645 30.032179-8.061645s11.922022-10.5472 14.992077-19.756954c2.674995-8.025805 3.565363-22.180147 3.565363-22.180147s2.080461-21.789286 2.080461-34.234675L489.399906 514.299369c-16.678502-18.827776-43.801395-61.938688-82.756096-60.927693-54.699008 1.419366-100.422144 70.059622-100.422144 70.059622s-56.065126-70.059622-93.440922-70.059622c-37.376717 0-91.077939 70.059622-91.077939 70.059622S105.343488 156.737741 476.742042 119.363584l53.70327-74.714624 51.373056 74.714624C964.889395 142.740992 936.857805 523.431322 936.857805 523.431322z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="string">&quot;M533.504 268.288q33.792-41.984 71.68-75.776 32.768-27.648 74.24-50.176t86.528-19.456q63.488 5.12 105.984 30.208t67.584 63.488 34.304 87.04 6.144 99.84-17.92 97.792-36.864 87.04-48.64 74.752-53.248 61.952q-40.96 41.984-85.504 78.336t-84.992 62.464-73.728 41.472-51.712 15.36q-20.48 1.024-52.224-14.336t-69.632-41.472-79.872-61.952-82.944-75.776q-26.624-25.6-57.344-59.392t-57.856-74.24-46.592-87.552-21.504-100.352 11.264-99.84 39.936-83.456 65.536-61.952 88.064-35.328q24.576-5.12 49.152-1.536t48.128 12.288 45.056 22.016 40.96 27.648q45.056 33.792 86.016 80.896z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="string">&quot;M741.06368 733.310464c8.075264-29.262438 20.615373-40.632422 14.64105-162.810061C966.089728 361.789952 967.93897 72.37847 967.855002 54.693683c0.279347-0.279347 0.418509-0.419533 0.418509-0.419533s-0.17705-0.00512-0.428749-0.00512c0-0.251699 0-0.428749 0-0.428749s-0.139162 0.14633-0.418509 0.425677c-17.695744-0.083866-307.10784 1.760051-515.833958 212.142592-122.181632-5.984256-133.55305 6.563533-162.815693 14.644531C235.35063 295.798886 103.552614 436.975309 90.630758 486.076621c-12.921856 49.105408 39.634227 56.859034 58.579558 58.581197 18.953421 1.724314 121.471386-9.475789 130.09111 4.309094 0 0 16.367411 11.200102 17.226035 41.346662 0.850432 29.796659 15.173222 71.354163 37.123994 97.267302-0.028672 0.027648-0.05632 0.054272-0.083866 0.074752 0.158618 0.13097 0.316211 0.261939 0.474829 0.390861 0.129946 0.149402 0.261939 0.319283 0.393011 0.468685 0.019456-0.019456 0.04608-0.049152 0.075776-0.075674 25.918362 21.961216 67.477504 36.272128 97.269248 37.122458 30.149837 0.859546 41.354547 17.234534 41.354547 17.234534 13.779354 8.608051 2.583962 111.122842 4.302131 130.075546 1.727386 18.95168 9.477222 71.498445 58.579558 58.576077C585.12896 918.526771 726.311117 786.734182 741.06368 733.310464zM595.893555 426.206003c-39.961702-39.965184-39.961702-104.75991 0-144.720077 39.970918-39.96928 104.768307-39.96928 144.730112 0 39.970918 39.960064 39.970918 104.75479 0 144.720077C700.661862 466.171187 635.864474 466.171187 595.893555 426.206003zM358.53312 769.516032c-31.923302-4.573184-54.890394-18.410291-71.41847-35.402342-16.984474-16.526438-30.830387-39.495475-35.405824-71.420621-4.649062-28.082586-20.856832-41.167565-38.76649-38.763827-17.906586 2.40681-77.046886 66.714419-80.857805 89.475891-3.80887 22.752154 29.271859 12.081152 46.424166 27.654861 17.151283 15.590093-2.139853 61.93664-14.733107 86.845952-6.441984 12.735078-10.289766 26.42176-4.22953 33.76087 7.346586 6.070272 21.03593 2.222592 33.769472-4.220109 24.912384-12.585677 71.258829-31.872922 86.842368-14.731469 15.583539 17.160806 4.911002 50.229965 27.674419 46.419251 22.754099-3.807744 87.065395-62.946611 89.466163-80.85248C399.70857 790.374093 386.627072 774.166938 358.53312 769.516032z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="string">&quot;M848.794624 939.156685 571.780416 939.156685 571.780416 653.17123l341.897539 0 0 221.100654C913.677926 909.960704 884.482867 939.156685 848.794624 939.156685zM571.780403 318.743552c-11.861606-3.210138-31.443354-8.36864-39.829709-16.176435-0.596582-0.561766-1.016218-1.246413-1.613824-1.841971-0.560845 0.596582-1.016218 1.280205-1.613824 1.841971-8.386355 7.807795-15.96631 12.965274-27.827917 16.176435l0 263.544325L141.030675 582.287877 141.030675 355.202884c0-35.687834 29.195059-64.882688 64.883302-64.882688l150.649125 0c-16.984474-9.525965-32.846438-20.56233-46.111027-32.932045-60.250624-56.144691-71.129907-137.062605-24.283034-180.767027 19.615539-18.264986 46.252237-27.124736 75.026739-27.124736 39.933133 0 83.972915 17.070797 118.995968 49.706086 20.353331 18.983322 37.722624 43.405619 50.145075 69.056819 12.457267-25.6512 29.791744-50.074419 50.180915-69.056819 35.022029-32.63529 79.062835-49.706086 118.994944-49.706086 28.74071 0 55.410176 8.860774 75.025715 27.124736 46.882611 43.704422 35.96759 124.622336-24.283034 180.767027-13.264589 12.368691-29.127578 23.40608-46.111027 32.932045l144.649234 0c35.688243 0 64.882278 29.195981 64.882278 64.882688l0 227.084948L571.780416 582.287833 571.780416 318.743508zM435.064218 147.625267c-21.476966-19.965747-49.094144-31.913882-73.868288-31.913882-7.404954 0-21.125018 1.211597-29.863322 9.386803-2.000691 1.824563-8.070144 7.439462-8.070144 21.369754 0 15.650406 8.492749 40.24873 32.319386 62.477926 29.124506 27.12576 77.202432 47.601152 111.76704 47.601152 12.176794 0 16.492237-2.666701 16.527053-2.702541C489.524736 242.54505 475.664486 185.453773 435.064218 147.625267zM577.78135 254.790963c0 0 0.034816-0.034816 0.069632-0.034816 0.807424 0 5.50871 1.790771 15.509914 1.790771 34.564608 0 82.64151-20.47529 111.76704-47.601152 23.826637-22.229299 32.283546-46.810112 32.283546-62.442189 0-13.930291-6.033613-19.562496-8.035328-21.404467-8.77312-8.17623-22.457344-9.386803-29.864346-9.386803-24.808038 0-52.390298 11.948134-73.867264 31.913882C585.325466 185.208218 571.358822 241.73865 577.78135 254.790963zM500.89513 939.156685 205.914017 939.156685c-35.688243 0-64.883302-29.195981-64.883302-64.883712L141.030714 653.17123l359.864462 0L500.895177 939.15666z&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">const</span> colors = [<span class="string">&quot;#c4332b&quot;</span>, <span class="string">&quot;#16B644&quot;</span>, <span class="string">&quot;#6862FD&quot;</span>, <span class="string">&quot;#FDC763&quot;</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="function"><span class="keyword">function</span> <span class="title">getVirtulData</span>(<span class="params">year</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  year = year || <span class="string">&#x27;2017&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">let</span> date = +echarts.number.parseDate(year + <span class="string">&#x27;-01-01&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">let</span> end = +echarts.number.parseDate(+year + <span class="number">1</span> + <span class="string">&#x27;-01-01&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">let</span> dayTime = <span class="number">3600</span> * <span class="number">24</span> * <span class="number">1000</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">let</span> data = [];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">for</span> (<span class="keyword">let</span> time = date; time &lt; end; time += dayTime) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">let</span> items = [];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">let</span> eventCount = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * pathes.length);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; eventCount; i++) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      items.push(<span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * (pathes.length - <span class="number">1</span>)));</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    data.push([echarts.format.formatTime(<span class="string">&#x27;yyyy-MM-dd&#x27;</span>, time), items.join(<span class="string">&#x27;|&#x27;</span>)]);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">return</span> data;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">name</span>: <span class="string">&quot;calendar-charts&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        VChart,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">option</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">tooltip</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">calendar</span>: [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">left</span>: <span class="string">&quot;center&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">top</span>: <span class="string">&quot;middle&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">cellSize</span>: [<span class="number">70</span>, <span class="number">70</span>], <span class="comment">// 日歷單元格的大小</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">yearLabel</span>: &#123; <span class="attr">show</span>: <span class="literal">false</span> &#125;, <span class="comment">// 年份文字</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">orient</span>: <span class="string">&quot;vertical&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">dayLabel</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="attr">firstDay</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="attr">nameMap</span>: <span class="string">&quot;cn&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">monthLabel</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="attr">show</span>: <span class="literal">false</span>, <span class="comment">// 隱藏月份文字</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">range</span>: <span class="string">&quot;2017-03&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">series</span>: [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">type</span>: <span class="string">&quot;custom&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">coordinateSystem</span>: <span class="string">&quot;calendar&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">renderItem</span>: <span class="function"><span class="keyword">function</span> (<span class="params">params, api</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> cellPoint = api.coord(api.value(<span class="number">0</span>));</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> cellWidth = params.coordSys.cellWidth;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> cellHeight = params.coordSys.cellHeight;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> value = api.value(<span class="number">1</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> events = value &amp;&amp; value.split(<span class="string">&quot;|&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">if</span> (<span class="built_in">isNaN</span>(cellPoint[<span class="number">0</span>]) || <span class="built_in">isNaN</span>(cellPoint[<span class="number">1</span>])) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="keyword">return</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">const</span> group = &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">type</span>: <span class="string">&quot;group&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">children</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    (layouts[events.length - <span class="number">1</span>] || []).map(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        <span class="function"><span class="keyword">function</span> (<span class="params">itemLayout, index</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">type</span>: <span class="string">&quot;path&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">shape</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">pathData</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        pathes[+events[index]],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">x</span>: -<span class="number">8</span>, <span class="comment">// 圖標左右偏移量</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">y</span>: -<span class="number">8</span>, <span class="comment">// 圖標上下偏移量</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">width</span>: <span class="number">16</span>, <span class="comment">// 圖標寬度</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">height</span>: <span class="number">16</span>, <span class="comment">// 圖標高度</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">position</span>: [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    cellPoint[<span class="number">0</span>] +</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        echarts.number.linearMap(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            itemLayout[<span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [-<span class="number">0.5</span>, <span class="number">0.5</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                -cellWidth / <span class="number">2</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                cellWidth / <span class="number">2</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            ]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        ),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    cellPoint[<span class="number">1</span>] +</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        echarts.number.linearMap(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            itemLayout[<span class="number">1</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [-<span class="number">0.5</span>, <span class="number">0.5</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                -cellHeight /</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                    <span class="number">2</span> +</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                    <span class="number">20</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                                cellHeight / <span class="number">2</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                            ]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        ),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                <span class="attr">style</span>: api.style(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    <span class="attr">fill</span>: colors[</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                        +events[index]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                    ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                                &#125;),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                            &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    ) || [],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            group.children.push(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">type</span>: <span class="string">&quot;text&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                <span class="attr">style</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">x</span>: cellPoint[<span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">y</span>: cellPoint[<span class="number">1</span>] - cellHeight / <span class="number">2</span> + <span class="number">15</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">text</span>: echarts.format.formatTime(</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        <span class="string">&quot;dd&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                        api.value(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    ),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">fill</span>: <span class="string">&quot;#777&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                    <span class="attr">textFont</span>: api.font(&#123; <span class="attr">fontSize</span>: <span class="number">14</span> &#125;), <span class="comment">// 日期文字大小</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                            <span class="keyword">return</span> group;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">dimensions</span>: [<span class="literal">undefined</span>, &#123; <span class="attr">type</span>: <span class="string">&#x27;ordinal&#x27;</span> &#125;], <span class="comment">// 鼠標滑過時顯示的文字</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="attr">data</span>: getVirtulData(),</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">&#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="css"></span></span></span><br><span class="line"><span class="css"><span class="xml"><span class="selector-class">.chart</span> &#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">    <span class="attribute">height</span>: <span class="number">800px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">&#125;</span></span></span><br><span class="line"><span class="css"><span class="xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="註冊組件-1"><a href="#註冊組件-1" class="headerlink" title="註冊組件"></a>註冊組件</h4><p>到<code>app.js</code>註冊組件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> CalendarCharts <span class="keyword">from</span> <span class="string">&quot;./components/CalendarCharts.vue&quot;</span>;</span><br><span class="line">Vue.component(<span class="string">&quot;calendar-charts&quot;</span>, CalendarCharts);</span><br></pre></td></tr></table></figure>
<h4 id="Blade-中使用-1"><a href="#Blade-中使用-1" class="headerlink" title="Blade 中使用"></a>Blade 中使用</h4><p>在 blade 中使用<code>&lt;calendar-charts&gt;&lt;/calendar-charts&gt;</code></p>
<h4 id="成果-1"><a href="#成果-1" class="headerlink" title="成果"></a>成果</h4><p>效果如下圖</p>
<p><img src="https://i.imgur.com/2Fh1Fk1.png" alt=""></p>
<div class="tag link"><a class="link-card" title="Apache ECharts" target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html"><div class="left"><img src="https://imgur.com/99bXWYP.jpg"/></div><div class="right"><p class="text">Apache ECharts</p><p class="url">https://echarts.apache.org/zh/index.html</p></div></a></div>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>laravel use echarts Custom Calendar Icon in vue</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://joe94113.github.io/2022/02/07/laravel-use-echarts/">https://joe94113.github.io/2022/02/07/laravel-use-echarts/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>Joe</h></div></div><div class="post-copyright-c"><h>發布於</h><div class="post-copyright-cc-info"><h>2022-02-07</h></div></div><div class="post-copyright-u"><h>更新於</h><div class="post-copyright-cc-info"><h>2022-02-07</h></div></div><div class="post-copyright-c"><h>許可協議</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Backend/">Backend</a><a class="post-meta__tags" href="/tags/Laravel/">Laravel</a><a class="post-meta__tags" href="/tags/echarts/">echarts</a></div><div class="post_share"><div class="social-share" data-image="https://imgur.com/uSM4JVh.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打賞</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/donat.jpg" target="_blank"><img class="post-qr-code-img" src="/images/donat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/images/ETH.jpg" target="_blank"><img class="post-qr-code-img" src="/images/ETH.jpg" alt="乙太幣"/></a><div class="post-qr-code-desc">乙太幣</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/23/js-synchronous-and-asynchronous/"><img class="prev-cover" src="/images/default/default4.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">JS 執行緒與同步,非同步</div></div></a></div><div class="next-post pull-right"><a href="/2022/02/07/js-asi/"><img class="next-cover" src="https://imgur.com/GW5yxwp.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JS ASI 自動插入分號</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/2021/12/26/Laravel-Notification-Channels-FCM/" title="Laravel-Notification-Channels-FCM"><img class="cover" src="https://imgur.com/bFglVKg.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-26</div><div class="title">Laravel-Notification-Channels-FCM</div></div></a></div><div><a href="/2021/12/21/Laravel-change-Connection-for-Notifications-table/" title="laravel notification table 連接到其他資料庫"><img class="cover" src="/images/default/default4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-21</div><div class="title">laravel notification table 連接到其他資料庫</div></div></a></div><div><a href="/2021/10/27/Laravel_Seeder/" title="Laravel Seeders"><img class="cover" src="https://www.medalibouk.com/storage/posts/July2020/KdAAsrMDdEXIZurSseKa.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-27</div><div class="title">Laravel Seeders</div></div></a></div><div><a href="/2021/09/10/Laravel_start/" title="Laravel起步走"><img class="cover" src="https://developerhoster.com/content/images/size/w960/2021/09/banner-2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-10</div><div class="title">Laravel起步走</div></div></a></div><div><a href="/2021/10/25/Laravel%E4%BD%BF%E7%94%A8AJAX_POST%E5%95%8F%E9%A1%8C/" title="Laravel csrf token mismatch for ajax POST Request"><img class="cover" src="https://dpsvdv74uwwos.cloudfront.net/statics/img/blogposts/csrf-tokens.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-25</div><div class="title">Laravel csrf token mismatch for ajax POST Request</div></div></a></div><div><a href="/2021/12/02/Laravel%E5%93%88%E5%B8%8C%E6%95%B8%E6%93%9AID/" title="Laravel哈希數據ID"><img class="cover" src="https://cloud.githubusercontent.com/assets/499192/11159205/faa429ae-8a5d-11e5-8c5d-c60a89290c5e.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-02</div><div class="title">Laravel哈希數據ID</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 評論</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Joe</div><div class="author-info__description">人生，努力了、珍惜了、問心無愧，如此，甚好。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">73</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">標籤</div><div class="length-num">33</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分類</div><div class="length-num">10</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/joe94113"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:joe94113@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.instagram.com/guan___zhi/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a><a class="social-icon" href="https://stackoverflow.com/users/15393688/joe" target="_blank" title="Stackoverflow"><i class="fab fa-stack-overflow"></i></a><a class="social-icon" href="https://www.linkedin.com/in/joe94113/" target="_blank" title="Linkedin"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://codepen.io/joe94113" target="_blank" title="Codepen"><i class="fab fa-codepen"></i></a><a class="social-icon" href="https://www.kaggle.com/joe94113" target="_blank" title="Kaggle"><i class="fab fa-kaggle"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#laravel-use-echarts-Custom-Calendar-Icon-in-vue"><span class="toc-number">1.</span> <span class="toc-text">laravel use echarts Custom Calendar Icon in vue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%9D-echarts"><span class="toc-number">1.1.</span> <span class="toc-text">安裝 echarts</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#npm"><span class="toc-number">1.1.1.</span> <span class="toc-text">npm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E5%AE%89%E8%A3%9D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text">更多安裝方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%9D-vue-echarts"><span class="toc-number">1.2.</span> <span class="toc-text">安裝 vue-echarts</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#npm-amp-ESM"><span class="toc-number">1.2.1.</span> <span class="toc-text">npm &amp; ESM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN-amp-Global-variable"><span class="toc-number">1.2.2.</span> <span class="toc-text">CDN &amp; Global variable</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%A6%E4%BD%9C"><span class="toc-number">1.3.</span> <span class="toc-text">實作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B%E4%B8%80"><span class="toc-number">1.3.1.</span> <span class="toc-text">範例一</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">Vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Controller"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">Controller</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%87%E5%88%B0-Bug"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">遇到 Bug</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A8%BB%E5%86%8A%E7%B5%84%E4%BB%B6"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">註冊組件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Blade-%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.1.5.</span> <span class="toc-text">Blade 中使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A3%9C%E5%85%85"><span class="toc-number">1.3.1.6.</span> <span class="toc-text">補充</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E6%9E%9C"><span class="toc-number">1.3.1.7.</span> <span class="toc-text">成果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B%E4%BA%8C"><span class="toc-number">1.3.2.</span> <span class="toc-text">範例二</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-1"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">Vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A8%BB%E5%86%8A%E7%B5%84%E4%BB%B6-1"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">註冊組件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Blade-%E4%B8%AD%E4%BD%BF%E7%94%A8-1"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">Blade 中使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E6%9E%9C-1"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">成果</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/05/24/vue-composition-api-ref-reactive/" title="Vue composition api 定義資料"><img src="https://imgur.com/GW5yxwp.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue composition api 定義資料"/></a><div class="content"><a class="title" href="/2022/05/24/vue-composition-api-ref-reactive/" title="Vue composition api 定義資料">Vue composition api 定義資料</a><time datetime="2022-05-24T14:43:22.000Z" title="發表於 2022-05-24 22:43:22">2022-05-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/24/js-proxy/" title="JS Proxy(代理)筆記"><img src="/images/default/default4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JS Proxy(代理)筆記"/></a><div class="content"><a class="title" href="/2022/05/24/js-proxy/" title="JS Proxy(代理)筆記">JS Proxy(代理)筆記</a><time datetime="2022-05-24T14:42:54.000Z" title="發表於 2022-05-24 22:42:54">2022-05-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/24/vue-slot/" title="Vue slot插巢"><img src="https://imgur.com/eQZytWP.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue slot插巢"/></a><div class="content"><a class="title" href="/2022/05/24/vue-slot/" title="Vue slot插巢">Vue slot插巢</a><time datetime="2022-05-24T14:42:42.000Z" title="發表於 2022-05-24 22:42:42">2022-05-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/14/vue-props-emits/" title="Vue props in emit out 筆記"><img src="https://i.imgur.com/RvS9sLd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue props in emit out 筆記"/></a><div class="content"><a class="title" href="/2022/04/14/vue-props-emits/" title="Vue props in emit out 筆記">Vue props in emit out 筆記</a><time datetime="2022-04-14T14:18:08.000Z" title="發表於 2022-04-14 22:18:08">2022-04-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/14/laravel-tinymce/" title="Laravel 使用 TinyMCE 以及處理上傳圖片(驗證，防呆，刪除)"><img src="https://assets.matters.news/embed/63cc794e-3f74-4e7e-9bde-5750f7183df9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel 使用 TinyMCE 以及處理上傳圖片(驗證，防呆，刪除)"/></a><div class="content"><a class="title" href="/2022/04/14/laravel-tinymce/" title="Laravel 使用 TinyMCE 以及處理上傳圖片(驗證，防呆，刪除)">Laravel 使用 TinyMCE 以及處理上傳圖片(驗證，防呆，刪除)</a><time datetime="2022-04-14T14:17:55.000Z" title="發表於 2022-04-14 22:17:55">2022-04-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://imgur.com/uSM4JVh.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Joe</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="簡繁轉換">繁</button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直達評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜尋</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'AvmaKpg1Jm6knyjqmUvLisTT-MdYXbMMI',
      appKey: 'QccmMlgJBk3dFxRA6c5aLOqw',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-TW',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '//i0.hdslb.com/bfs/emote/',
      emojiMaps: {"tv_doge":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_親親":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_偷笑":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_再見":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_冷漠":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_發怒":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_發財":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_可愛":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_吐血":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_呆":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_嘔吐":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_困":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_壞笑":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_大佬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_大哭":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_委屈":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_害羞":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_尷尬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_微笑":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_思考":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_驚嚇":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png"},
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://joe94113.github.io/2022/02/07/laravel-use-echarts/'
    this.page.identifier = '2022/02/07/laravel-use-echarts/'
    this.page.title = 'laravel use echarts Custom Calendar Icon in vue'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://joe94113.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Valine' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.17.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[圖片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[連結]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代碼]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '沒有評論'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://AvmaKpg1.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'AvmaKpg1Jm6knyjqmUvLisTT-MdYXbMMI',
        "X-LC-Key": 'QccmMlgJBk3dFxRA6c5aLOqw',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=5&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "無法獲取評論，請確認相關配置是否正確"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="6954660951" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" data-theme="#9e8ee6" muted></div><script defer src="/live2d-widget/autoload.js"></script><script async src="//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script src="//code.tidio.co/vzs39ctlcaqi6itgnorfqsaezuyjd70f.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/aboutBlog/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'UA-177446378-1', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                console.log('已挂载history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='all'|| 'all' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax  src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="/images/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-butterfly-clock/lib/clock.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/04/14/laravel-tinymce/" alt=""><img width="48" height="48" src="https://assets.matters.news/embed/63cc794e-3f74-4e7e-9bde-5750f7183df9.png" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-04-14</span><a class="blog-slider__title" href="2022/04/14/laravel-tinymce/" alt="">Laravel 使用 TinyMCE 以及處理上傳圖片(驗證，防呆，刪除)</a><div class="blog-slider__text">再怎麼看我也不知道怎麼描述它的啦！</div><a class="blog-slider__button" href="2022/04/14/laravel-tinymce/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/01/04/laravel-scout-search-example/" alt=""><img width="48" height="48" src="https://storage.googleapis.com/twg-content/images/MarketingResources_Thumbnail_Search.width-1200.jpg" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-01-04</span><a class="blog-slider__title" href="2022/01/04/laravel-scout-search-example/" alt="">Laravel8 Scout Search</a><div class="blog-slider__text">Laravel scount Algolia search搜尋範例</div><a class="blog-slider__button" href="2022/01/04/laravel-scout-search-example/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/10/14/laravel_storeAdd_notification_to_user/" alt=""><img width="48" height="48" src="https://developers.google.com/web/updates/images/generic/notifications.png?hl=zh-tw" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-10-14</span><a class="blog-slider__title" href="2021/10/14/laravel_storeAdd_notification_to_user/" alt="">Laravel use notification when some data add</a><div class="blog-slider__text">當有商家新增了將通知給使用者</div><a class="blog-slider__button" href="2021/10/14/laravel_storeAdd_notification_to_user/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/09/08/laravel_google_place_api/" alt=""><img width="48" height="48" src="https://spiralking.com/wp-content/uploads/2019/04/google-place.jpg" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-09-08</span><a class="blog-slider__title" href="2021/09/08/laravel_google_place_api/" alt="">Laravel 使用 google place api輸入地址取得經緯度</a><div class="blog-slider__text">laravel使用google place api</div><a class="blog-slider__button" href="2021/09/08/laravel_google_place_api/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/09/10/laravel_auto_download/" alt=""><img width="48" height="48" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtSaORKeMowAMvfKdUm3KLkXgiby-2JKSFEA&amp;usqp=CAU" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-09-10</span><a class="blog-slider__title" href="2021/09/10/laravel_auto_download/" alt="">laravel排程下載外部Url檔案，及更新進資料庫資料</a><div class="blog-slider__text">laravel排程下載csv檔案並存入資料庫</div><a class="blog-slider__button" href="2021/09/10/laravel_auto_download/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/js/swiper.min.js"></script><script defer data-pjax src="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
                        function gitcalendar_injector_config(){
                          var parent_div_git = document.getElementById('recent-posts');
                          var item_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
                          parent_div_git.insertAdjacentHTML("afterbegin",item_html)
                          console.log('已挂载gitcalendar')
                          }

                        if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
                            gitcalendar_injector_config()
                            GitCalendarInit("https://python-github-calendar-api-gray.vercel.app/api?joe94113",['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'],'joe94113')
                        }
                      </script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>