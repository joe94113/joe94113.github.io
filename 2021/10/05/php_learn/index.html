<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PHP學習筆記(持續更新中) | Joeの小屋</title><meta name="keywords" content="php筆記"><meta name="author" content="Joe"><meta name="copyright" content="Joe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="PHP學習筆記">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP學習筆記(持續更新中)">
<meta property="og:url" content="https://joe94113.github.io/2021/10/05/php_learn/index.html">
<meta property="og:site_name" content="Joeの小屋">
<meta property="og:description" content="PHP學習筆記">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://s3.ap-northeast-1.wasabisys.com/img.tw511.com/202007/5e268989b1fa4782iicm13wlgpv.jpg">
<meta property="article:published_time" content="2021-10-04T18:07:47.000Z">
<meta property="article:modified_time" content="2021-11-10T15:53:39.555Z">
<meta property="article:author" content="Joe">
<meta property="article:tag" content="Backend">
<meta property="article:tag" content="PHP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s3.ap-northeast-1.wasabisys.com/img.tw511.com/202007/5e268989b1fa4782iicm13wlgpv.jpg">
<meta property="fb:app_id" content="140817571582634"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://joe94113.github.io/2021/10/05/php_learn/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="-7-rSDQgi9r0SZgJLXNAs58udKxQrWHwhZKhovoppV8"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-177446378-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-177446378-1');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查詢的內容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":100,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Joe","link":"連結: ","source":"來源: Joeの小屋","info":"著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切換為繁體","cht_to_chs":"你已切換為簡體","day_to_night":"你已切換為深色模式","night_to_day":"你已切換為淺色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'PHP學習筆記(持續更新中)',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-11-10 23:53:39'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-clock/lib/clock.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/css/swiper.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiperstyle.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-filter-gitcalendar/lib/gitcalendar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.min.css" media="defer" onload="this.media='all'"><script async src="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/carousel-touch.min.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">標籤</div><div class="length-num">27</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分類</div><div class="length-num">10</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://ylui-joe94113.vercel.app"><i class="fa-fw fas fa-desktop"></i><span> 桌面</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-newspaper"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-umbrella-beach"></i><span> 碎碎念</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清單</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 遊戲</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 書籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 電影</span></a></li><li><a class="site-page child" href="/air-conditioner/"><i class="fa-fw fas fa-fan"></i><span> 空調房</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-friends"></i><span> 友鏈</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-thumbs-up"></i><span> 友鏈朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-circle"></i><span> 關於</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於我</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw far fa-calendar-alt"></i><span> 時間線</span></a></li><li><a class="site-page child" href="/aboutBlog/"><i class="fa-fw fas fa-rss"></i><span> 關於本站</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://joe94113.instatus.com/"><i class="fa-fw fas fa-signal"></i><span> 本站狀態</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://hugo-blog-gamma.vercel.app/"><i class="fa-fw fab fa-pied-piper-alt"></i><span> 舊站</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s3.ap-northeast-1.wasabisys.com/img.tw511.com/202007/5e268989b1fa4782iicm13wlgpv.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Joeの小屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://ylui-joe94113.vercel.app"><i class="fa-fw fas fa-desktop"></i><span> 桌面</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-newspaper"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 時間軸</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-umbrella-beach"></i><span> 碎碎念</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清單</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音樂</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 遊戲</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 書籍</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 電影</span></a></li><li><a class="site-page child" href="/air-conditioner/"><i class="fa-fw fas fa-fan"></i><span> 空調房</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-friends"></i><span> 友鏈</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友鏈</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-thumbs-up"></i><span> 友鏈朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-user-circle"></i><span> 關於</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 關於我</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw far fa-calendar-alt"></i><span> 時間線</span></a></li><li><a class="site-page child" href="/aboutBlog/"><i class="fa-fw fas fa-rss"></i><span> 關於本站</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://joe94113.instatus.com/"><i class="fa-fw fas fa-signal"></i><span> 本站狀態</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://hugo-blog-gamma.vercel.app/"><i class="fa-fw fab fa-pied-piper-alt"></i><span> 舊站</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">PHP學習筆記(持續更新中)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2021-10-04T18:07:47.000Z" title="發表於 2021-10-05 02:07:47">2021-10-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2021-11-10T15:53:39.555Z" title="更新於 2021-11-10 23:53:39">2021-11-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/PHP/">PHP</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字數總計:</span><span class="word-count">16.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時長:</span><span>65分鐘</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="PHP學習筆記(持續更新中)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="PHP-學習筆記-持續更新中"><a href="#PHP-學習筆記-持續更新中" class="headerlink" title="PHP 學習筆記(持續更新中)"></a>PHP 學習筆記(持續更新中)</h1><h2 id="PHP-的資料型態"><a href="#PHP-的資料型態" class="headerlink" title="PHP 的資料型態"></a>PHP 的資料型態</h2><h3 id="Bollean-布林值"><a href="#Bollean-布林值" class="headerlink" title="Bollean 布林值"></a>Bollean 布林值</h3><p>算是最簡單的資料型態，可以為 true 跟 false 不區分大小寫。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$foo</span> = <span class="literal">true</span>; <span class="comment">// 設置foo變數為true</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>常用在判斷式</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 兩個等於代表操作符，檢測兩個遍量是否相等，返回布林值</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$password</span> == <span class="string">&#x27;123&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;pass&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 這樣寫是不必要的</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$check</span> == <span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;check in&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以使用以下方式</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$check</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;check in&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Integer-整數型態"><a href="#Integer-整數型態" class="headerlink" title="Integer 整數型態"></a>Integer 整數型態</h3><p>整型值 int 可以使用十进制，十六进制，八进制或二进制表示，前面可以加上可選的符號（- 或者 +）。 可以用負運算符 来表示一个負的 int。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">10</span>; <span class="comment">// 十進位</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">012</span>; <span class="comment">// 八進位 (等於十進位 10)</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">0xa</span>; <span class="comment">// 十六進位 (等于十進制 10)</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">0b1010</span>; <span class="comment">// 二進制数字 (等于十進制 10)</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">1_0_1_0</span>_; <span class="comment">// 整型数值 (PHP 7.4.0 以后)輸出1010</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>整數溢出，如果超過 int 範圍會轉換成 float 型態。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// var_dump()方法是判斷一個變量的類型與長度,並輸出變量的數值</span></span><br><span class="line"><span class="variable">$large_number</span> = <span class="number">2147483647</span>;</span><br><span class="line">var_dump(<span class="variable">$large_number</span>); <span class="comment">// int(2147483647)</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$large_number</span> = <span class="number">2147483648</span>;</span><br><span class="line">var_dump(<span class="variable">$large_number</span>); <span class="comment">// float(2147483648)</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Float-符點數"><a href="#Float-符點數" class="headerlink" title="Float 符點數"></a>Float 符點數</h3><p>擁有小數點的正負數值，<br>通常最大值是 1.8e308 並具有 14 位十進制數字的精度。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$num</span> = <span class="number">99.01</span>;</span><br><span class="line"><span class="variable">$num</span> = -<span class="number">50.30</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="string-字符串"><a href="#string-字符串" class="headerlink" title="string 字符串"></a>string 字符串</h3><p>由字符組成，每個字符等同於一個字節。這意味著 PHP 只能支持 256 的字符集，因此不支持 Unicode 。</p>
<blockquote>
<p>注意:在 32 位版本中，string 最大可以達到 2GB（最多 2147483647 字節）。</p>
</blockquote>
<p>定義一個字符串最簡單就是用’’單引號刮起來。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$text</span> = <span class="string">&#x27;This is test string&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$text</span>; <span class="comment">// 輸出: This is test string</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果包含在雙引號內就可以對特殊字符進行解析。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 可以直接將變數帶入</span></span><br><span class="line"><span class="variable">$food</span> = <span class="string">&#x27;noodles&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Hi \n&quot;</span>; <span class="comment">// 換行</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;I like to eat <span class="subst">$food</span>&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Array-數組"><a href="#Array-數組" class="headerlink" title="Array 數組"></a>Array 數組</h3><p>PHP 中的 array 實際上是一個有序映射。映射是一種把 values 關聯到 keys 的類型。</p>
<p>可以用 array() 方法來結構一個 array 。接受任意數量用逗號分隔的 鍵（key） =&gt; 值（value） 。以下範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$arry</span> = <span class="keyword">array</span>( <span class="number">0</span> =&gt; <span class="string">&#x27;apple&#x27;</span>,</span><br><span class="line">               <span class="number">1</span> =&gt; <span class="string">&#x27;tomato&#x27;</span>,</span><br><span class="line">               <span class="number">2</span> =&gt; <span class="string">&#x27;banana&#x27;</span>,);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$arry</span>[<span class="number">0</span>]; <span class="comment">// apple</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以使用以下短數組語法</span></span><br><span class="line"><span class="variable">$arry</span> = [ <span class="number">0</span> =&gt; <span class="string">&#x27;apple&#x27;</span>,</span><br><span class="line">          <span class="number">1</span> =&gt; <span class="string">&#x27;tomato&#x27;</span>,</span><br><span class="line">          <span class="number">2</span> =&gt; <span class="string">&#x27;banana&#x27;</span>,];</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$arry</span>[<span class="number">0</span>]; <span class="comment">// apple</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>沒有鍵名的索引數組</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$array</span> = <span class="keyword">array</span>(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;tomato&quot;</span>, <span class="string">&quot;banana&quot;</span>, );</span><br><span class="line">var_dump(<span class="variable">$array</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 輸出</span></span><br><span class="line"><span class="keyword">array</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  [<span class="number">0</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">5</span>) <span class="string">&quot;apple&quot;</span></span><br><span class="line">  [<span class="number">1</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">6</span>) <span class="string">&quot;tomato&quot;</span></span><br><span class="line">  [<span class="number">2</span>]=&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">6</span>) <span class="string">&quot;banana&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>數組可以用在許多地方，以下有些範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$map</span> = <span class="keyword">array</span>( <span class="string">&#x27;version&#x27;</span> =&gt; <span class="number">4</span>,</span><br><span class="line">              <span class="string">&#x27;OS&#x27;</span> =&gt; <span class="string">&#x27;Linux&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;lang&#x27;</span> =&gt; <span class="string">&#x27;english&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;short_tags&#x27;</span> =&gt; <span class="literal">true</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line"><span class="comment">// . . .完全等同於:</span></span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">array</span>();</span><br><span class="line"><span class="variable">$a</span>[<span class="string">&#x27;version&#x27;</span>] = <span class="number">4</span>;</span><br><span class="line"><span class="variable">$a</span>[<span class="string">&#x27;os&#x27;</span>] = <span class="string">&#x27;Linux&#x27;</span>;</span><br><span class="line"><span class="variable">$a</span>[<span class="string">&#x27;lang&#x27;</span>] = <span class="string">&#x27;english&#x27;</span>;</span><br><span class="line"><span class="variable">$a</span>[<span class="string">&#x27;short_tags&#x27;</span>]  = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unset</span>(<span class="variable">$a</span>[<span class="string">&#x27;os&#x27;</span>]); <span class="comment">// 刪除 &quot;Linux&quot;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>輸出集合</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$maps</span> = <span class="keyword">array</span>( <span class="string">&#x27;version&#x27;</span> =&gt; <span class="number">4</span>,</span><br><span class="line">              <span class="string">&#x27;OS&#x27;</span> =&gt; <span class="string">&#x27;Linux&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;lang&#x27;</span> =&gt; <span class="string">&#x27;english&#x27;</span>,</span><br><span class="line">              <span class="string">&#x27;short_tags&#x27;</span> =&gt; <span class="literal">true</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$maps</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$key</span> is <span class="subst">$value</span>\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// version is 4</span></span><br><span class="line"><span class="comment">// OS is Linux</span></span><br><span class="line"><span class="comment">// lang is english</span></span><br><span class="line"><span class="comment">// short_tags is 1</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>Array 是有序的。也可以使用不同的排序函数来改變順序。</p>
<p>數組排序範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">sort(<span class="variable">$files</span>); <span class="comment">// 對value排序</span></span><br><span class="line">print_r(<span class="variable">$files</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Iterable-可迭代對象"><a href="#Iterable-可迭代對象" class="headerlink" title="Iterable 可迭代對象"></a>Iterable 可迭代對象</h3><p>它接受任何 array 或實現了 Traversable(可遍歷) 接口的對象。<br>這些類型都能用 foreach 迭代， 也可以和 生成器 里的 yield from 一起使用。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gen</span>(<span class="params"></span>): <span class="title">iterable</span> </span>&#123; <span class="comment">// 建立一個可迭代生成器</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$iterable</span> = gen(); <span class="comment">// 實例化</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$iterable</span> <span class="keyword">as</span> <span class="variable">$value</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$value</span>\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 輸出</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 答案相同</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gen</span>(<span class="params"></span>): <span class="title">iterable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$iterable</span> = gen();</span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$iterable</span> <span class="keyword">as</span> <span class="variable">$value</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$value</span>\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Object-對象"><a href="#Object-對象" class="headerlink" title="Object 對象"></a>Object 對象</h3><p>要創建一个新的對象 object，使用 new 語句實例化一个類：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SayHi</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">do_sayhi</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Hello.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$bar</span> = <span class="keyword">new</span> foo;</span><br><span class="line"><span class="variable">$bar</span>-&gt;do_sayhi(); <span class="comment">// Hello</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果將 Object 轉換成 Object 將不會有任何變化，如果其它任何類型的值被轉換成對象，將會創建一个内置類 stdClass 的實例。如果该值为 null，則新的實例為空。<br>array 轉換成 object 將使 Key 值成為屬性名並具有相對應的值，參考以下範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$obj</span> = (<span class="keyword">object</span>) <span class="keyword">array</span>(<span class="string">&#x27;1&#x27;</span> =&gt; <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">var_dump(<span class="keyword">isset</span>(<span class="variable">$obj</span>-&gt;&#123;<span class="string">&#x27;1&#x27;</span>&#125;)); <span class="comment">// PHP 7.2.0 後輸出 &#x27;bool(true)&#x27;，之前版本會輸出 &#x27;bool(false)&#x27;</span></span><br><span class="line">var_dump(key(<span class="variable">$obj</span>)); <span class="comment">// PHP 7.2.0 後輸出 &#x27;string(1) &quot;1&quot;&#x27;，之前版本輸出  &#x27;int(1)&#x27;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>對於其他值，會包含進成員變量名 scalar。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$obj</span> = (<span class="keyword">object</span>) <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;scalar;  <span class="comment">// outputs &#x27;hello&#x27;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Null-類型"><a href="#Null-類型" class="headerlink" title="Null 類型"></a>Null 類型</h3><p>特殊的 null 值表示一个變數没有值。NULL 類型唯一可能的值就是 null。</p>
<p>在下列情况下一个變數被认为是 null：</p>
<ul>
<li><p>被賦值为 null。</p>
</li>
<li><p>尚未被賦值。</p>
</li>
<li><p>被 unset()。</p>
</li>
</ul>
<p>null 類型只有一个值，就是不區分大小寫的常量 null。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$var</span> = <span class="literal">NULL</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="PHP-變數命名規則"><a href="#PHP-變數命名規則" class="headerlink" title="PHP 變數命名規則"></a>PHP 變數命名規則</h2><p>PHP 中的變數用一个美元符號後面跟變數名稱来表示。變數名是區分大小寫的。</p>
<p>變數名與 PHP 中其它的標籤一样遵循相同的規則。一个有效的變量名由字母或者底線開頭，後面加上任意数量的字母，数字，或者底線。 按照正常的正規表示法，他將被表達為：’\^[a-zA-Z_\x80-\xff][a-za-z0-9_\x80-\xff]*$’。</p>
<blockquote>
<p>$this 是一個特殊變數，他不能被賦值。</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$firstName</span> = <span class="string">&#x27;Wang&#x27;</span>;</span><br><span class="line"><span class="variable">$lastName</span> = <span class="string">&#x27;Joe&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$firstName</span>, <span class="subst">$lastName</span>&quot;</span>;      <span class="comment">// 输出 &quot;Wang, Joe&quot;</span></span><br><span class="line"></span><br><span class="line">$<span class="number">4</span>site = <span class="string">&#x27;not yet&#x27;</span>;     <span class="comment">// 非法變數名；以數字開頭</span></span><br><span class="line"><span class="variable">$_4site</span> = <span class="string">&#x27;not yet&#x27;</span>;    <span class="comment">// 合法變數名；以底線開頭</span></span><br><span class="line"><span class="variable">$i</span>站點is = <span class="string">&#x27;TW&#x27;</span>;  <span class="comment">// 合法變數名；可以用中文</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="PHP-常量"><a href="#PHP-常量" class="headerlink" title="PHP 常量"></a>PHP 常量</h2><p>可以使用 const 關鍵字或 define() 函數兩種方法來定義一個常量。函數 define() 允許將常量定義為一個表達式，而 const 關鍵字有一些限制。一個常量一旦被定義，就不能再改變或者取消定義。</p>
<p>使用 const 關鍵字定義常量時，只能包含標量數據（bool、int、float 、string）。可以將常量定義為一個表達式，也可以定義為一個 array。還可以定義 resource 為常量，但應盡量避免，因為可能會造成不可預料的結果。</p>
<p>可以簡單的通過指定其名字來取得常量的值，與變量不同，不應該在常量前面加上 $ 符號。如果常量名是動態的，也可以用函數 constant() 來獲取常量的值。用 get_defined_constants() 可以獲得所有已定義的常量列表。</p>
<p>以下為定義常量範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">define(<span class="string">&quot;CONSTANT&quot;</span>, <span class="string">&quot;Hello world.&quot;</span>);</span><br><span class="line"><span class="keyword">echo</span> CONSTANT; <span class="comment">// 輸出 &quot;Hello world.&quot;</span></span><br><span class="line"><span class="keyword">echo</span> Constant; <span class="comment">// 拋出錯誤：未定義的常量 &quot;Constant&quot;</span></span><br><span class="line">               <span class="comment">// 在 PHP 8.0.0 之前，输出 &quot;Constant&quot; 會併發出一個提示級別錯誤訊息</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>以下範例為使用關鍵字 const 定義常量</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 簡單的標量值</span></span><br><span class="line"><span class="keyword">const</span> CONSTANT = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> CONSTANT;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 標量表達式</span></span><br><span class="line"><span class="keyword">const</span> ANOTHER_CONST = CONSTANT.<span class="string">&#x27;; Goodbye World&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> ANOTHER_CONST;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ANIMALS = <span class="keyword">array</span>(<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;bird&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> ANIMALS[<span class="number">1</span>]; <span class="comment">// 將輸出 &quot;cat&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 常量數組</span></span><br><span class="line">define(<span class="string">&#x27;ANIMALS&#x27;</span>, <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">&#x27;dog&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;cat&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;bird&#x27;</span></span><br><span class="line">));</span><br><span class="line"><span class="keyword">echo</span> ANIMALS[<span class="number">1</span>]; <span class="comment">// 將輸出 &quot;cat&quot;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>魔術常量</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>名字</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr>
<td>__LINE__</td>
<td>文件中的當前行號</td>
</tr>
<tr>
<td>__FILE__</td>
<td>文件的完整路徑和文件名。如果用在被包含文件中，則返回被包含的文件名。</td>
</tr>
<tr>
<td>__DIR__</td>
<td>文件所在的目錄。如果用在被包括文件中，則返回被包括的文件所在的目錄。它等價於 dirname(__FILE__)。除非是根目錄，否則目錄中名不包括末尾的斜杠。</td>
</tr>
<tr>
<td>__FUNCTION__</td>
<td>當前函數的名稱。匿名函數則為 {closure}。</td>
</tr>
<tr>
<td>__CLASS__</td>
<td>當前類的名稱。類名包括其被聲明的作用域（例如 Foo\Bar）。當用在 trait 方法中時，__CLASS__ 是調用 trait 方法的類的名字</td>
</tr>
<tr>
<td>__TRAIT__</td>
<td>Trait 的名字。 Trait 名包括其被聲明的作用域（例如 Foo\Bar）。</td>
</tr>
<tr>
<td>__METHOD__</td>
<td>class 的方法名</td>
</tr>
<tr>
<td>__NAMESPACE__</td>
<td>當前命名空間名稱</td>
</tr>
<tr>
<td>ClassName::class</td>
<td>完整的 class 名稱</td>
</tr>
</tbody>
</table>
</div>
<p>以下為魔術常量範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">UserModel</span> &#123;</span><br><span class="line">    <span class="title">class</span> <span class="title">User</span> &#123;</span><br><span class="line">        <span class="title">public</span> <span class="title">function</span> <span class="title">__construct</span>() &#123;</span><br><span class="line">            <span class="title">echo</span> &#x27;<span class="title">I</span> <span class="title">am</span> <span class="title">in</span> &#x27;.<span class="title">__CLASS__</span>.&quot;\<span class="title">n</span>&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">showData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;I am in &#x27;</span>.<span class="keyword">__METHOD__</span>.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$obj</span> = <span class="keyword">new</span> User;</span><br><span class="line">    <span class="variable">$obj</span>-&gt;showData();</span><br><span class="line">    <span class="keyword">echo</span> <span class="keyword">__NAMESPACE__</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// I am in UserModel\User</span></span><br><span class="line"><span class="comment">// I am in UserModel\User::showData</span></span><br><span class="line"><span class="comment">// UserModel</span></span><br></pre></td></tr></table></figure>
<h2 id="PHP-運算符"><a href="#PHP-運算符" class="headerlink" title="PHP 運算符"></a>PHP 運算符</h2><h3 id="算數運算符"><a href="#算數運算符" class="headerlink" title="算數運算符"></a>算數運算符</h3><p>跟國中小數學基本數學知識相同。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">1</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a</span> + <span class="number">1</span> * <span class="variable">$b</span>; <span class="comment">// output: 3</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>以下圖表為算術運算符</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>名称</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>+$a</td>
<td>標識</td>
<td>根據情况將 $a 轉化為 int 或 float。</td>
</tr>
<tr>
<td>-$a</td>
<td>取反</td>
<td>$a 的負值。</td>
</tr>
<tr>
<td>$a + $b</td>
<td>加法</td>
<td>$a 和 $b 的和。</td>
</tr>
<tr>
<td>$a - $b</td>
<td>减法</td>
<td>$a 和 $b 的差。</td>
</tr>
<tr>
<td>$a * $b</td>
<td>乘法</td>
<td>$a 和 $b 的積。</td>
</tr>
<tr>
<td>$a / $b</td>
<td>除法</td>
<td>$a 除以 $b 的商。</td>
</tr>
<tr>
<td>$a % $b</td>
<td>取模</td>
<td>$a 除以 $b 的餘數。</td>
</tr>
<tr>
<td>$a ** $b</td>
<td>求幂</td>
<td>$a 的 $b 次方的值。</td>
</tr>
</tbody>
</table>
</div>
<hr>
<h3 id="賦值運算符"><a href="#賦值運算符" class="headerlink" title="賦值運算符"></a>賦值運算符</h3><p>基本的賦值運算符是“=”。一開始可能會以為它是“等於”，其實不是的。它實際上意味著把右邊表達式的值賦給左邊的運算數</p>
<p>下圖為算術賦值運算符</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>等同於</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a += $b</td>
<td>$a = $a + $b</td>
<td>加法</td>
</tr>
<tr>
<td>$a -= $b</td>
<td>$a = $a - $b</td>
<td>减法</td>
</tr>
<tr>
<td>$a *= $b</td>
<td>$a = $a * $b</td>
<td>乘法</td>
</tr>
<tr>
<td>$a /= $b</td>
<td>$a = $a / $b</td>
<td>除法</td>
</tr>
<tr>
<td>$a %= $b</td>
<td>$a = $a % $b</td>
<td>取餘數</td>
</tr>
<tr>
<td>$a **= $b</td>
<td>$a = $a ** $b</td>
<td>指數</td>
</tr>
</tbody>
</table>
</div>
<p>下圖為其他賦值運算符</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>等同於</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a .= $b</td>
<td>$a = $a . $b</td>
<td>字符串拼接</td>
</tr>
<tr>
<td>$a ?? $b</td>
<td>$a = $a ?? $b</td>
<td>NULL 合併</td>
</tr>
</tbody>
</table>
</div>
<hr>
<h3 id="位元運算"><a href="#位元運算" class="headerlink" title="位元運算"></a>位元運算</h3><p>位運算符允許對整型數中指定的位進行求值和操作。</p>
<p>下圖為位元運算符號<br>| 例子 | 名稱 | 结果 |<br>| ———— | —————————- | ———————————————————————————— |<br>| $a &amp; $b | And（按位與） | 將把 $a 和 $b 中都為 1 的位設為 1。 |<br>| $a | $b | Or（按位或） | 將把 $a 和 $b 中任何一個為 1 的位設為 1。 |<br>| $a ^ $b | Xor（按位異或） | 將把 $a 和 $b 中一個為 1 另一個為 0 的位設為 1。 |<br>| ~ $a | Not（按位取反） | 將 $a 中為 0 的位設為 1，反之亦然。 |<br>| $a &lt;&lt; $b | Shift left（左移） | 將 $a 中的位向左移動 $b 次（每一次移動都表示“乘以 2”）。 |<br>| $a &gt;&gt; $b | Shift right（右移） | 將 $a 中的位向右移動 $b 次（每一次移動都表示“除以 2”）。 |</p>
<hr>
<h3 id="比較運算符"><a href="#比較運算符" class="headerlink" title="比較運算符"></a>比較運算符</h3><p>比較運算符，如同它們名稱所暗示的，允許對兩個值進行比較。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>名稱</th>
<th>結果</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a == $b</td>
<td>等於</td>
<td>true，如果類型轉換後 $a 等於 $b。</td>
</tr>
<tr>
<td>$a === $b</td>
<td>全等於</td>
<td>true，如果 $a 等於 $b，並且它們的類型也相同。</td>
</tr>
<tr>
<td>$a != $b</td>
<td>不等於</td>
<td>true，如果類型轉換後 $a 不等於 $b。</td>
</tr>
<tr>
<td>$a &lt;&gt; $b</td>
<td>不等於</td>
<td>true，如果類型轉換後 $a 不等於 $b。</td>
</tr>
<tr>
<td>$a !== $b</td>
<td>不全等</td>
<td>true，如果 $a 不等於 $b，或者它們的類型不同。</td>
</tr>
<tr>
<td>$a &lt; $b</td>
<td>小於</td>
<td>true，如果 $a 嚴格小於 $b。</td>
</tr>
<tr>
<td>$a &gt; $b</td>
<td>大於</td>
<td>true，如果 $a 嚴格大於 $b。</td>
</tr>
<tr>
<td>$a &lt;= $b</td>
<td>小於等於</td>
<td>true，如果 $a 小於或者等於 $b。</td>
</tr>
<tr>
<td>$a &gt;= $b</td>
<td>大於等於</td>
<td>true，如果 $a 大於或者等於 $b。</td>
</tr>
<tr>
<td>$a &lt;=&gt; $b</td>
<td>太空船運算符（組合比較符）</td>
<td>當$a 小於、等於、大於 $b 時 分别返回一個小於、等於、大於 0 的 int 值。</td>
</tr>
</tbody>
</table>
</div>
<hr>
<h3 id="執行運算符"><a href="#執行運算符" class="headerlink" title="執行運算符"></a>執行運算符</h3><p>PHP 支持一個執行運算符：反引號（``）。注意這不是單引號！ PHP 將嘗試將反引號中的內容作為 shell 命令來執行，並將其輸出信息返回（即，可以賦給一個變量而不是簡單地丟棄到標準輸出）。使用反引號運算符“`”的效果與函數 shell_exec() 相同。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$output</span> = `ipconfig /all`;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;pre&gt;<span class="subst">$output</span>&lt;/pre&gt;&quot;</span>; <span class="comment">// 輸出所有IP資訊</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="遞增-遞減運算符"><a href="#遞增-遞減運算符" class="headerlink" title="遞增/遞減運算符"></a>遞增/遞減運算符</h3><p>:::warning<br>注意: 遞增／遞減運算符不影響布爾值。遞減 null 值也沒有效果，但是遞增 null 的結果是 1。:zap:<br>:::</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>名称</th>
<th>效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>++$a</td>
<td>先加</td>
<td>$a 的值加一，然後返回 $a。</td>
</tr>
<tr>
<td>$a++</td>
<td>後加</td>
<td>返回 $a，然後將 $a 的值加一。</td>
</tr>
<tr>
<td>—$a</td>
<td>先减</td>
<td>$a 的值减一， 然后返回 $a。</td>
</tr>
<tr>
<td>$a—</td>
<td>後减</td>
<td>返回 $a，然後將 $a 的值减一。</td>
</tr>
</tbody>
</table>
</div>
<p>簡易的範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;後增量(PostIncrement)\n&quot;</span>;</span><br><span class="line"><span class="variable">$a</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 5: &quot;</span> . <span class="variable">$a</span>++ . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 6: &quot;</span> . <span class="variable">$a</span> . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;先增量(PreIncrement)\n&quot;</span>;</span><br><span class="line"><span class="variable">$a</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 6: &quot;</span> . ++<span class="variable">$a</span> . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 6: &quot;</span> . <span class="variable">$a</span> . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;後減(PostDecrement)\n&quot;</span>;</span><br><span class="line"><span class="variable">$a</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 5: &quot;</span> . <span class="variable">$a</span>-- . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 4: &quot;</span> . <span class="variable">$a</span> . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;先減(Predecrement)\n&quot;</span>;</span><br><span class="line"><span class="variable">$a</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 4: &quot;</span> . --<span class="variable">$a</span> . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Should be 4: &quot;</span> . <span class="variable">$a</span> . <span class="string">&quot;&lt;br /&gt;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="邏輯運算符"><a href="#邏輯運算符" class="headerlink" title="邏輯運算符"></a>邏輯運算符</h3><div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>名稱</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a and $b</td>
<td>And（和）</td>
<td>true，如果 $a 和 $b 都為 true。</td>
</tr>
<tr>
<td>$a or $b</td>
<td>Or（或）</td>
<td>true，如果 $a 或 $b 任一為 true。</td>
</tr>
<tr>
<td>$a xor $b</td>
<td>Xor（異或）</td>
<td>true，如果 $a 或 $b 任一為 true，但不同時是。</td>
</tr>
<tr>
<td>! $a</td>
<td>Not（非）</td>
<td>true，如果 $a 不為 true。</td>
</tr>
<tr>
<td>$a &amp;&amp; $b</td>
<td>And（與）</td>
<td>true，如果 $a 和 $b 都為 true。</td>
</tr>
<tr>
<td>$a \</td>
<td>\</td>
<td>$b</td>
<td>Or（或）</td>
<td>true，如果 $a 或 $b 任一為 true。</td>
</tr>
</tbody>
</table>
</div>
<hr>
<h3 id="字符串運算符"><a href="#字符串運算符" class="headerlink" title="字符串運算符"></a>字符串運算符</h3><p>有兩個字符串（string）運算符。第一個是連接運算符（“.”），它返回其左右參數連接後的字符串。第二個是連接賦值運算符（“.=”），它將右邊參數附加到左邊的參數之後。</p>
<p>範例程式碼</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="string">&quot;Hello &quot;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$a</span> . <span class="string">&quot;World!&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$b</span>.<span class="string">&quot;\n&quot;</span>; <span class="comment">// output &quot;Hello World!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="string">&quot;Hello &quot;</span>;</span><br><span class="line"><span class="variable">$a</span> .= <span class="string">&quot;World!&quot;</span>;     <span class="comment">// output &quot;Hello World!&quot;</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="數組運算符"><a href="#數組運算符" class="headerlink" title="數組運算符"></a>數組運算符</h3><div class="table-container">
<table>
<thead>
<tr>
<th>例子</th>
<th>名稱</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a + $b</td>
<td>聯合</td>
<td>$a 和 $b 的联合。</td>
</tr>
<tr>
<td>$a == $b</td>
<td>相等</td>
<td>如果 $a 和 $b 具有相同的键／值，則為 true。</td>
</tr>
<tr>
<td>$a === $b</td>
<td>全等</td>
<td>如果 $a 和 $b 具有相同的键／值，並且順序和類型都相同則為 true。</td>
</tr>
<tr>
<td>$a != $b</td>
<td>不等於</td>
<td>如果 $a 不等於 $b 則為 true。</td>
</tr>
<tr>
<td>$a &lt;&gt; $b</td>
<td>不等於</td>
<td>如果 $a 不等於 $b 則為 true。</td>
</tr>
<tr>
<td>$a !== $b</td>
<td>不相等</td>
<td>如果 $a 不全等於 $b 則為 true。</td>
</tr>
</tbody>
</table>
</div>
<p>如果是運用運算符將數組相加，會把加號右邊的附加到加號左邊數組，<br>兩個數組中都有的鍵名，則只用左邊數組中的，右邊的被忽略</p>
<p>以下簡單範例示範:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">array</span>(<span class="string">&quot;a&quot;</span> =&gt; <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;b&quot;</span> =&gt; <span class="string">&quot;banana&quot;</span>);</span><br><span class="line"><span class="variable">$b</span> = <span class="keyword">array</span>(<span class="string">&quot;a&quot;</span> =&gt; <span class="string">&quot;pear&quot;</span>, <span class="string">&quot;b&quot;</span> =&gt; <span class="string">&quot;strawberry&quot;</span>, <span class="string">&quot;c&quot;</span> =&gt; <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$c</span> = <span class="variable">$a</span> + <span class="variable">$b</span>; <span class="comment">// Union of $a and $b</span></span><br><span class="line">var_dump(<span class="variable">$c</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$c</span> = <span class="variable">$b</span> + <span class="variable">$a</span>; <span class="comment">// Union of $b and $a</span></span><br><span class="line">var_dump(<span class="variable">$c</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 輸出:</span></span><br><span class="line"><span class="comment">// array(3) &#123;</span></span><br><span class="line"><span class="comment">//   [&quot;a&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//   string(5) &quot;apple&quot;</span></span><br><span class="line"><span class="comment">//   [&quot;b&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//   string(6) &quot;banana&quot;</span></span><br><span class="line"><span class="comment">//   [&quot;c&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//   string(6) &quot;cherry&quot;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// array(3) &#123;</span></span><br><span class="line"><span class="comment">//   [&quot;a&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//   string(4) &quot;pear&quot;</span></span><br><span class="line"><span class="comment">//   [&quot;b&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//   string(10) &quot;strawberry&quot;</span></span><br><span class="line"><span class="comment">//   [&quot;c&quot;]=&gt;</span></span><br><span class="line"><span class="comment">//   string(6) &quot;cherry&quot;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>以下示範比較數組</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">array</span>(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>);</span><br><span class="line"><span class="variable">$b</span> = <span class="keyword">array</span>(<span class="number">1</span> =&gt; <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;0&quot;</span> =&gt; <span class="string">&quot;apple&quot;</span>);</span><br><span class="line"></span><br><span class="line">var_dump(<span class="variable">$a</span> == <span class="variable">$b</span>); <span class="comment">// bool(true)</span></span><br><span class="line">var_dump(<span class="variable">$a</span> === <span class="variable">$b</span>); <span class="comment">// bool(false)</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="類型運算符"><a href="#類型運算符" class="headerlink" title="類型運算符"></a>類型運算符</h3><p>instanceof 方法用於確定一個 PHP 變數是否屬於某一類 class 的實例，<br>也可以用來確認某一個變數，是否繼承自某一父類或子類的實例。</p>
<p>以下範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NotMyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">new</span> MyClass;</span><br><span class="line"></span><br><span class="line">var_dump(<span class="variable">$a</span> <span class="keyword">instanceof</span> MyClass);</span><br><span class="line">var_dump(<span class="variable">$a</span> <span class="keyword">instanceof</span> NotMyClass);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 輸出</span></span><br><span class="line"><span class="comment">// bool(True)</span></span><br><span class="line"><span class="comment">// bool(False)</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="PHP-流程控制"><a href="#PHP-流程控制" class="headerlink" title="PHP 流程控制"></a>PHP 流程控制</h2><h3 id="If-Else-判斷句"><a href="#If-Else-判斷句" class="headerlink" title="If Else 判斷句"></a>If Else 判斷句</h3><p>If 可以使用在判斷某條件達成時執行語句，else 則是在不滿該條下執行。</p>
<p>以下使用範例示範</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$a</span> &gt; <span class="variable">$b</span>)&#123;</span><br><span class="line">console.log(<span class="string">&quot;a win&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">console.log(<span class="string">&quot;b win&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="else-if-判斷句"><a href="#else-if-判斷句" class="headerlink" title="else if 判斷句"></a>else if 判斷句</h3><p>是 if 語句的延伸，可以在原來的 if 表達式值為 false 時執行不同語句。但是和 else 不一樣的是，它僅在 elseif 的條件表達式值為 true 時執行語句。</p>
<p>以下使用範例示範:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$a</span> &gt; <span class="variable">$b</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;a is bigger than b&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">elseif</span>(<span class="variable">$a</span> == <span class="variable">$b</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;a is equal to b&quot;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;a is smaller than b&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="while-迴圈"><a href="#while-迴圈" class="headerlink" title="while 迴圈"></a>while 迴圈</h3><p>只要條件成立就會重複執行語句，表達式在每次開始循環前檢查，所以即使值在循環語句中改變，語句也不會停止執行，值到此次循環結束。</p>
<p>如果 while 表達式一開始的值為 false，則循環語句一次都不會執行。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$i</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="variable">$i</span> &lt;= <span class="number">10</span>) &#123; <span class="comment">// i &gt; 10停止迴圈</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$i</span>++; <span class="comment">// 先輸出 i 後再加一</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="do-while-迴圈"><a href="#do-while-迴圈" class="headerlink" title="do-while 迴圈"></a>do-while 迴圈</h3><p>和 while 迴圈相似，差別在於表達式的檢查是在循環結束時才檢查，所以 do-while 語句一定會執行循環語句一次。</p>
<p>以下範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$i</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$i</span>;</span><br><span class="line">&#125; <span class="keyword">while</span>(<span class="variable">$i</span>&lt;<span class="number">0</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>剛好執行一次後停下，因為條件不符合。</p>
<hr>
<h3 id="for-迴圈"><a href="#for-迴圈" class="headerlink" title="for 迴圈"></a>for 迴圈</h3><p>for 迴圈的語法是:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for (expr1; expr2; expr3)</span><br><span class="line"></span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>
<p>expr1:此表達式會在執行前，無條件執行一次。</p>
<p>expr2:在每次循環開始前求值。如果值為 true，則繼續循環，執行 statement 的循環語句。如果值為 false，則終止循環。</p>
<p>expr3:在循環之後，賦值(並執行)</p>
<p>以下所有範例為顯示 1~10 數字:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/* example 1 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">1</span>; <span class="variable">$i</span> &lt;= <span class="number">10</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$i</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* example 2 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">1</span>; ; <span class="variable">$i</span>++)&#123;</span><br><span class="line">    <span class="keyword">if</span>　(<span class="variable">$i</span> &gt; <span class="number">10</span>)&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$i</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* example 3 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (;;)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$i</span> &gt; <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$i</span>;</span><br><span class="line">    <span class="variable">$i</span>++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* example 4 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">1</span>, <span class="variable">$j</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt;= <span class="number">10</span>; <span class="variable">$j</span> += <span class="variable">$i</span>, <span class="keyword">print</span> <span class="variable">$i</span>, <span class="variable">$i</span>++);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h3><p>foreach 語法結構提供了可以遍歷 array 的簡單方式，foreach 只能用於 array 和 object，用於其他數據類型的變數，會發出錯誤。</p>
<p>foreach 語法如下:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">foreach (iterable_expression as $value)</span><br><span class="line">statement</span><br><span class="line"></span><br><span class="line">foreach (iterable_expression as $key =&gt; $value)</span><br><span class="line">statement</span><br></pre></td></tr></table></figure>
<p>第一種格式遍歷，會將 iterable_expression 內的值賦予給$value。</p>
<p>第二種格式遍歷與第一種相似，但會在每次循環將當前的鍵值賦予給$key。</p>
<p>以下為範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/* foreach example 1: value only */</span></span><br><span class="line"><span class="variable">$arr</span> = <span class="keyword">array</span>(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>);</span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$arr</span> <span class="keyword">as</span> <span class="variable">$value</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;value = <span class="subst">$value</span> \n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* foreach example 2: key and value */</span></span><br><span class="line"><span class="variable">$arr</span> = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">&quot;name&quot;</span> =&gt; <span class="string">&quot;joe&quot;</span>,</span><br><span class="line">    <span class="string">&quot;cel&quot;</span> =&gt; <span class="number">1234567</span>,</span><br><span class="line">    <span class="string">&quot;address&quot;</span> =&gt; <span class="string">&quot;Taiwan&quot;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$arr</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$key</span> =&gt; <span class="subst">$value</span> \n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* foreach example 3: dynamic arrays */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">array</span>(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>) <span class="keyword">as</span> <span class="variable">$v</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$v</span>\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用 list() 給嵌套的數組解包</p>
<p>可以遍歷一個數組的數組並且把嵌套的數組解包到循環變量中，只需將 list() 作為值提供。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$array</span> = [</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$array</span> <span class="keyword">as</span> <span class="keyword">list</span>(<span class="variable">$a</span>, <span class="variable">$b</span>)) &#123;</span><br><span class="line">    <span class="comment">// $a contains the first element of the nested array,</span></span><br><span class="line">    <span class="comment">// and $b contains the second element.</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;A: <span class="subst">$a</span>; B: <span class="subst">$b</span>\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>範例輸出:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A: 1; B: 2</span><br><span class="line">A: 3; B: 4</span><br></pre></td></tr></table></figure>
<p>list() 中的單元可以少於嵌套數組的，此時多出來的數組單元將被忽略，如果 list 中單元多於嵌套數組，則會報錯：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$array</span> = [</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$array</span> <span class="keyword">as</span> <span class="keyword">list</span>(<span class="variable">$a</span>)) &#123;</span><br><span class="line">    <span class="comment">// Note that there is no $b here.</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;A: <span class="subst">$a</span>;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>輸出</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A: 1;</span><br><span class="line">A: 3;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><p>break 結束當前 for，foreach，while，do-while 或者 switch 結構的執行。</p>
<p>break 可以接受一個可選參數，來決定要跳出幾層迴圈。</p>
<p>以下為範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$arr</span> = <span class="keyword">array</span>(<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;stop&#x27;</span>, <span class="string">&#x27;five&#x27;</span>);</span><br><span class="line"><span class="comment">// 使用each() 和list() 結合用來遍歷數組</span></span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">list</span> (, <span class="variable">$val</span>) = each(<span class="variable">$arr</span>)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$val</span> == <span class="string">&#x27;stop&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>;    <span class="comment">/* You could also write &#x27;break 1;&#x27; here. */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$val</span>&lt;br /&gt;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 使用可選参数 */</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$i</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (++<span class="variable">$i</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (<span class="variable">$i</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;At 5&lt;br /&gt;\n&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span> <span class="number">1</span>;  <span class="comment">/* 只退出 switch. */</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;At 10; quitting&lt;br /&gt;\n&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span> <span class="number">2</span>;  <span class="comment">/* 退出 switch 和 while 循环 */</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h3><p>continue 在循環結構用用來跳過本次循環中剩餘的代碼並在條件求值為真時開始執行下一次循環。</p>
<p>以下為範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">1</span>; <span class="variable">$i</span>&lt;<span class="number">5</span>; <span class="variable">$i</span>++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$i</span>==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$i</span>\n&quot;</span>;  <span class="comment">// outputs: 1 3 4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p>switch 語句類似於具有同一個表達式的一系列 if 語句。很多情況下需要把同一個變數（或表達式）與很多不同的值比較，並根據它等於哪個值來執行不同的代碼。</p>
<p>以下為範例，利用 if/else if 和 switch 實現不同方法實現相同的事:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$i</span> == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;i equals 0&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">elseif</span> (<span class="variable">$i</span> == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;i equals 1&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">elseif</span> (<span class="variable">$i</span> == <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;i equals 2&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (<span class="variable">$i</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;i equals 0&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;i equals 1&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;i equals 2&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>一個 case 的特例是 default。它匹配了任何和其它 case 都不匹配的情況。例如：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">switch</span> (<span class="variable">$i</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;i equals 0&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;i equals 1&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;i equals 2&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;i is not equal to 0, 1 or 2&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="match"><a href="#match" class="headerlink" title="match"></a>match</h3><p>與 switch 語句類似， match 表達式具有與多個備選方案進行比較的主題表達式，與 switch 不同，它將計算為一個很像三元表達式的值。與 switch 不同的是，比較的是強型別相等檢查 (\=\==) 而不是弱型別相等檢查 (==)。匹配表達式從 PHP 8.0.0 開始可用。</p>
<p>範例如下:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$age</span> = <span class="number">23</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$result</span> = <span class="keyword">match</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="variable">$age</span> &gt;= <span class="number">65</span> =&gt; <span class="string">&#x27;senior&#x27;</span>,</span><br><span class="line">    <span class="variable">$age</span> &gt;= <span class="number">25</span> =&gt; <span class="string">&#x27;adult&#x27;</span>,</span><br><span class="line">    <span class="variable">$age</span> &gt;= <span class="number">18</span> =&gt; <span class="string">&#x27;young adult&#x27;</span>,</span><br><span class="line">    <span class="keyword">default</span> =&gt; <span class="string">&#x27;kid&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var_dump(<span class="variable">$result</span>);</span><br><span class="line"><span class="keyword">echo</span>(<span class="variable">$result</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs:</span></span><br><span class="line"><span class="comment">// string(11) &quot;young adult&quot;</span></span><br><span class="line"><span class="comment">// young adult</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="declare"><a href="#declare" class="headerlink" title="declare"></a>declare</h3><blockquote>
<p>declare 不是一個函數，算是一個語言結構</p>
</blockquote>
<p>declare 用來設定一段 code 的執行指令。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> (directive)</span><br><span class="line">statement</span><br></pre></td></tr></table></figure>
<p>directive 的部分允許設定 declare 代碼段的行為。</p>
<p>如果 declare 語句後面沒有括號，則該指令適用於文件中的其餘代碼。<br>以下為範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 兩個相等：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以這樣用：</span></span><br><span class="line"><span class="keyword">declare</span>(ticks=<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// 這裡寫腳本</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以這樣用：</span></span><br><span class="line"><span class="keyword">declare</span>(ticks=<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 這裡寫腳本</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>declare 指令是在文件編譯時處理的，所以指令只接受字面量的值。 無法使用變量和常量。下面為範例程式碼:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 有效程式碼：</span></span><br><span class="line"><span class="keyword">declare</span>(ticks=<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 無效，無法指定常量：</span></span><br><span class="line"><span class="keyword">const</span> TICK_VALUE = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">declare</span>(ticks=TICK_VALUE);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>可以聲明三個指令：ticks,encoding 和 strict_types.</p>
<p>ticks 每次執行指定數量(N)可計時的指令時，該指令都會發送一個 tick 事件。可以使用 register_tick_function() ，它會在每次 event 事件觸發時運行。</p>
<p>不是所有語句都可計時。通常條件表達式和參數表達式都不可計時。</p>
<p>以下為範例:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span>(ticks=<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 每次 tick 事件都會調用此函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tick_handler</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;tick_handler() called\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">register_tick_function(<span class="string">&#x27;tick_handler&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$a</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable">$a</span> += <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">print</span>(<span class="variable">$a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>該 encoding 指令用於指示文件使用的字符編碼。它不能用於塊，它必須應用於整個文件。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">declare</span>(encoding=<span class="string">&#x27;ISO-8859-1&#x27;</span>);</span><br><span class="line"><span class="comment">// code here</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>當 strict_types 指令設置，錯誤類型傳遞到函數參數時不會被強制轉換為正確的類型，而是拋出致命錯誤。</p>
<p>範例如下:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 正常情況下</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$a</span>, <span class="keyword">int</span> <span class="variable">$b</span></span>): <span class="title">int</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$a</span> + <span class="variable">$b</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump(add(<span class="number">1.0</span>, <span class="number">1.0</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// int(2)</span></span><br></pre></td></tr></table></figure>
<p>當使用 strict_types 後，變成強型別</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">declare</span>(strict_types=<span class="number">1</span>);    <span class="comment">//加入这句</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$a</span>, <span class="keyword">int</span> <span class="variable">$b</span></span>): <span class="title">int</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$a</span> + <span class="variable">$b</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump(add(<span class="number">1.0</span>, <span class="number">1.0</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 拋出TypeError:必須為integer整數</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="return"><a href="#return" class="headerlink" title="return"></a>return</h3><p>return 將程序控制返還給調用模塊。將在調用模塊中執行的下一句表達式中繼續。</p>
<p>如果在一個函數中調用 return 語句，將立即結束此函數的執行並將它的參數作為函數的值返回。 return 也會終止 eval() 語句或者腳本文件的執行</p>
<p>eval(): 把字符串作為 PHP 代碼執行</p>
<hr>
<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>require 和 include 幾乎完全一樣，除了處理失敗的方式不同之外。 require 在出錯時產生 E_COMPILE_ERROR 級別的錯誤。換句話說將導致腳本中止而 include 只產生警告（E_WARNING），腳本會繼續運行。</p>
<hr>
<h3 id="include"><a href="#include" class="headerlink" title="include"></a>include</h3><p>include 語句包含並運行指定文件。</p>
<p>以下也適用於 require。</p>
<p>被包含文件先按參數給出的路徑尋找，如果沒有給出目錄（只有文件名）時則按照 include_path 指定的目錄尋找。如果在 include_path 下沒找到該文件則 include 最後才在調用腳本文件所在的目錄和當前工作目錄下尋找。如果最後仍未找到文件則 include 結構會發出一條警告；這一點和 require 不同，後者會發出一個致命錯誤。</p>
<p>基本 include 用法:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">vars.php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$color</span> = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"><span class="variable">$car</span> = <span class="string">&#x27;vovlo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">test.php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;A <span class="subst">$color</span> <span class="subst">$car</span>&quot;</span>; <span class="comment">// A</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> <span class="string">&#x27;vars.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;A <span class="subst">$color</span> <span class="subst">$car</span>&quot;</span>; <span class="comment">// A red vovlo</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>include 和 return 語句</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span>.php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$var</span> = <span class="string">&#x27;PHP&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="variable">$var</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">noreturn.php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$var</span> = <span class="string">&#x27;PHP&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">testreturns.php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$foo</span> = <span class="keyword">include</span> <span class="string">&#x27;return.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$foo</span>; <span class="comment">// 輸出 &#x27;PHP&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$bar</span> = <span class="keyword">include</span> <span class="string">&#x27;noreturn.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$bar</span>; <span class="comment">// 輸出 1(因為成功返回true = 1)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="require-once"><a href="#require-once" class="headerlink" title="require_once"></a>require_once</h3><p>require_once 語句和 require 語句完全相同，唯一區別是 PHP 會檢查該文件是否已經被包含過，如果是則不會再次包含。</p>
<hr>
<h3 id="include-once"><a href="#include-once" class="headerlink" title="include_once"></a>include_once</h3><p>include_once 語句在腳本執行期間包含並運行指定文件。此行為和 include 語句類似，唯一區別是如果該文件中已經被包含過，則不會再次包含，且 include_once 會返回 true。如同此語句名字暗示的那樣，該文件只會包含一次。 include_once 可以用於在腳本執行期間同一個文件有可能被包含超過一次的情況下，想確保它只被包含一次以避免函數重定義，變量重新賦值等問題。</p>
<h2 id="PHP-函數"><a href="#PHP-函數" class="headerlink" title="PHP 函數"></a>PHP 函數</h2><h3 id="自定義函數"><a href="#自定義函數" class="headerlink" title="自定義函數"></a>自定義函數</h3><p>函數可用以下語法來定義</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="variable">$arg_1</span>, <span class="variable">$arg_2</span>, <span class="comment">/* ..., */</span> <span class="variable">$arg_n</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Example function.\n&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$retval</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>函數不需要在使用之前被定義，除非是函數是有條件被定義時，才必須在使用前定義</p>
<p>舉以下範例</p>
<ol>
<li>有條件的函數:</li>
</ol>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$makefoo</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不能在此處調用foo()函數，</span></span><br><span class="line"><span class="comment"> 因為它還不存在，但可以調用bar()函數。*/</span></span><br><span class="line"></span><br><span class="line">bar();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$makefoo</span>) &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;I don&#x27;t exist until program execution reaches me.\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 現在可以安全調用函數 foo()</span></span><br><span class="line"><span class="comment">   因為 $makefoo 值為真true */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$makefoo</span>) foo();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">&quot;I exist immediately upon program start.\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>函數中的函數</li>
</ol>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;I don&#x27;t exist until foo() is called.\n&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 現在還不能調用 bar() 函數，因為它還不存在 */</span></span><br><span class="line"></span><br><span class="line">foo();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 現在可以調用 bar() 函數了，因為 foo() 函數的執行使得 bar() 函數變為已定義的函數 */</span></span><br><span class="line"></span><br><span class="line">bar();</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>:::warning<br>PHP 中的所有函數和類都具有全局作用域，可以定義在一個函數之內而在之外調用，反之亦然。<br>PHP 不支持函數重載，也不可能取消定義或者重定義已聲明的函數。<br>:::</p>
<p>還有遞迴函數，也就是自己呼叫自己</p>
<p>舉個費氏數列的例子(從 0,1 開始，後面的數是前兩個數相加)</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params"><span class="variable">$n</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$n</span> == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$n</span> == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> fib(<span class="variable">$n</span>-<span class="number">1</span>) + fib(<span class="variable">$n</span> - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt;= <span class="number">5</span>; <span class="variable">$i</span>++)&#123;</span><br><span class="line">    <span class="keyword">echo</span> fib(<span class="string">&quot;<span class="subst">$i</span> &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// 0,1,1,2,3,5</span></span><br></pre></td></tr></table></figure>
<p>:::danger<br>注意: 但是要避免遞歸函數／方法調用超過 100-200 層，因為可能會使堆積崩潰從而使當前腳本終止。無限遞歸可視為編程錯誤<br>:::</p>
<hr>
<h3 id="函數的參數"><a href="#函數的參數" class="headerlink" title="函數的參數"></a>函數的參數</h3><p>通過給予函數參數，傳遞訊息給函數，可以放入多個參數用逗號分隔，也可以設置參數默認的值。</p>
<h4 id="1-向函數傳遞-array"><a href="#1-向函數傳遞-array" class="headerlink" title="1. 向函數傳遞 array:"></a>1. 向函數傳遞 array:</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">takes_array</span>(<span class="params"><span class="variable">$nums</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;$nums[0] + $nums[1] = &#x27;</span>, <span class="variable">$nums</span>[<span class="number">0</span>] + <span class="variable">$nums</span>[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>從 php8 開始參數尾巴逗號是會被忽略的</p>
<h4 id="2-使用尾巴逗號"><a href="#2-使用尾巴逗號" class="headerlink" title="2. 使用尾巴逗號"></a>2. 使用尾巴逗號</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">takes_many_args</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="variable">$first_name</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="variable">$last_name</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="variable">$age</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="variable">$gender</span> = <span class="number">1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="variable">$cellphone</span> = <span class="literal">null</span>, // 在 <span class="number">8.0</span>.<span class="number">0</span> 之前，尾部逗號是不允许的。</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>從 PHP 8.0.0 開始，不推薦在可選參數之後傳遞強制參數。 這通常可以通過刪除默認值來解決。 此規則的一個例外是 Type $param = null 形式的參數，其中 null 默認值使類型隱式可為空。 這種用法仍然被允許，但建議改用顯式可為空類型。</p>
<h4 id="3-在強制參數之後傳遞可選參數"><a href="#3-在強制參數之後傳遞可選參數" class="headerlink" title="3. 在強制參數之後傳遞可選參數"></a>3. 在強制參數之後傳遞可選參數</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="variable">$a</span> = [], <span class="variable">$b</span></span>) </span>&#123;&#125; <span class="comment">// 之前</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="variable">$a</span>, <span class="variable">$b</span></span>) </span>&#123;&#125;      <span class="comment">// 之後</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">A <span class="variable">$a</span> = <span class="literal">null</span>, <span class="variable">$b</span></span>) </span>&#123;&#125; <span class="comment">// 同時可用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">?A <span class="variable">$a</span>, <span class="variable">$b</span></span>) </span>&#123;&#125;       <span class="comment">// 官方推薦</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-在函數中使用默認參數"><a href="#4-在函數中使用默認參數" class="headerlink" title="4. 在函數中使用默認參數"></a>4. 在函數中使用默認參數</h4><p>PHP 還允許使用數組 array 和特殊類型 null 作為默認參數。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makecoffee</span>(<span class="params"><span class="variable">$type</span> = <span class="string">&quot;cappuccino&quot;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Making a cup of <span class="subst">$type</span>.\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> makecoffee();</span><br><span class="line"><span class="keyword">echo</span> makecoffee(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">echo</span> makecoffee(<span class="string">&quot;espresso&quot;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// Making a cup of cappuccino.</span></span><br><span class="line"><span class="comment">// Making a cup of .</span></span><br><span class="line"><span class="comment">// Making a cup of espresso.</span></span><br></pre></td></tr></table></figure>
<h4 id="5-函數默認參數的不正確用法"><a href="#5-函數默認參數的不正確用法" class="headerlink" title="5. 函數默認參數的不正確用法"></a>5. 函數默認參數的不正確用法</h4><p>默認值必須是常量表達式，不能是，如變量，類成員，或者函數調用等。 注意當使用默認參數時，任何默認參數必須放在任何非默認參數的右側；否則，函數將不會按照預期的情況工作。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeyogurt</span>(<span class="params"><span class="variable">$type</span> = <span class="string">&quot;acidophilus&quot;</span>, <span class="variable">$flavour</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Making a bowl of <span class="subst">$type</span> <span class="subst">$flavour</span>.\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> makeyogurt(<span class="string">&quot;raspberry&quot;</span>);   <span class="comment">// won&#x27;t work as expected</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Warning: Missing argument 2 in call to makeyogurt()</span></span><br></pre></td></tr></table></figure>
<h4 id="6-函數默認參數正確用法"><a href="#6-函數默認參數正確用法" class="headerlink" title="6. 函數默認參數正確用法"></a>6. 函數默認參數正確用法</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeyogurt</span>(<span class="params"><span class="variable">$flavour</span>, <span class="variable">$type</span> = <span class="string">&quot;acidophilus&quot;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Making a bowl of <span class="subst">$type</span> <span class="subst">$flavour</span>.\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> makeyogurt(<span class="string">&quot;raspberry&quot;</span>);   <span class="comment">// works as expected</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// Making a bowl of acidophilus raspberry.</span></span><br></pre></td></tr></table></figure>
<h4 id="7-使用-…-來訪問變量參數"><a href="#7-使用-…-來訪問變量參數" class="headerlink" title="7. 使用 … 來訪問變量參數"></a>7. 使用 … 來訪問變量參數</h4><p>PHP 在用戶自定義函數中支持可變數量的參數列表。由 … 語法實現。</p>
<p>包含 … 的參數，會轉換為指定參數變量的一個數組(類似字典)，以下示例：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...<span class="variable">$numbers</span></span>) </span>&#123;</span><br><span class="line">    <span class="variable">$acc</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$numbers</span> <span class="keyword">as</span> <span class="variable">$n</span>) &#123;</span><br><span class="line">        <span class="variable">$acc</span> += <span class="variable">$n</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$acc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<h4 id="8-使用…來傳遞參數"><a href="#8-使用…來傳遞參數" class="headerlink" title="8. 使用…來傳遞參數"></a>8. 使用…來傳遞參數</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"><span class="variable">$a</span>, <span class="variable">$b</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$a</span> + <span class="variable">$b</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> add(...[<span class="number">1</span>, <span class="number">2</span>]).<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">echo</span> add(...<span class="variable">$a</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h4 id="9-輸入提示的變量參數"><a href="#9-輸入提示的變量參數" class="headerlink" title="9. 輸入提示的變量參數"></a>9. 輸入提示的變量參數</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">total_intervals</span>(<span class="params"><span class="variable">$unit</span>, DateInterval ...<span class="variable">$intervals</span></span>) </span>&#123; <span class="comment">// 必須傳遞DateInterval類的參數</span></span><br><span class="line">    <span class="variable">$time</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$intervals</span> <span class="keyword">as</span> <span class="variable">$interval</span>) &#123;</span><br><span class="line">        <span class="variable">$time</span> += <span class="variable">$interval</span>-&gt;<span class="variable">$unit</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$time</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">new</span> DateInterval(<span class="string">&#x27;P1D&#x27;</span>);</span><br><span class="line"><span class="variable">$b</span> = <span class="keyword">new</span> DateInterval(<span class="string">&#x27;P2D&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> total_intervals(<span class="string">&#x27;d&#x27;</span>, <span class="variable">$a</span>, <span class="variable">$b</span>).<span class="string">&#x27; days&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This will fail, since null isn&#x27;t a DateInterval object.</span></span><br><span class="line"><span class="keyword">echo</span> total_intervals(<span class="string">&#x27;d&#x27;</span>, <span class="literal">null</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// 3 days</span></span><br><span class="line"><span class="comment">// Catchable fatal error: Argument 2 passed to total_intervals() must be an instance of DateInterval,</span></span><br><span class="line"><span class="comment">// null given, called in - on line 14 and defined in - on line 2</span></span><br></pre></td></tr></table></figure>
<h4 id="命名函數"><a href="#命名函數" class="headerlink" title="命名函數"></a>命名函數</h4><p>PHP 8.0.0 開始引入了命名參數作為現有位置參數的擴展。命名參數允許根據參數名而不是參數位置向函數傳參。這使得參數的含義自成體系，參數與順序無關，並允許任意跳過默認值。</p>
<p>命名參數通過在參數名前加上冒號來傳遞。允許使用保留關鍵字作為參數名。參數名必須是一個標識符，不允許動態指定。</p>
<h4 id="10-命名參數語法"><a href="#10-命名參數語法" class="headerlink" title="10. 命名參數語法"></a>10. 命名參數語法</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"><span class="variable">$paramName</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$paramName</span>;</span><br><span class="line">&#125;</span><br><span class="line">myFunction(paramName: <span class="variable">$value</span>);  <span class="comment">// $value指定給予paramName這個參數</span></span><br><span class="line">array_foobar(<span class="keyword">array</span>: <span class="variable">$value</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// NOT supported.</span></span><br><span class="line">function_name(<span class="variable">$variableStoringParamName</span>: <span class="variable">$value</span>); <span class="comment">// 不能動態指定</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="11-通過位置傳參與命名參數的對比"><a href="#11-通過位置傳參與命名參數的對比" class="headerlink" title="11. 通過位置傳參與命名參數的對比"></a>11. 通過位置傳參與命名參數的對比</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 使用順序傳遞：</span></span><br><span class="line">array_fill(<span class="number">0</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用命名參數：</span></span><br><span class="line">array_fill(start_index: <span class="number">0</span>, count: <span class="number">100</span>, value: <span class="number">50</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>順序不重要，下面輸出跟上面一樣</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">array_fill(value: <span class="number">50</span>, count: <span class="number">100</span>, start_index: <span class="number">0</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="12-不可多次傳遞給同一個參數"><a href="#12-不可多次傳遞給同一個參數" class="headerlink" title="12. 不可多次傳遞給同一個參數"></a>12. 不可多次傳遞給同一個參數</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="variable">$param</span></span>) </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">foo(param: <span class="number">1</span>, param: <span class="number">2</span>);</span><br><span class="line"><span class="comment">// Error: Named parameter $param overwrites previous argument</span></span><br><span class="line">foo(<span class="number">1</span>, param: <span class="number">2</span>);</span><br><span class="line"><span class="comment">// Error: Named parameter $param overwrites previous argument</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="返回值-return"><a href="#返回值-return" class="headerlink" title="返回值 return"></a>返回值 return</h3><p>值通過使用可選的返回語句返回。可以返回包括數組和對象的任意類型。返回語句會立即中止函數的運行，並且將控制權交回調用該函數的代碼行</p>
<p>:::warning<br>如果省略了 return，則返回值為 null。<br>:::</p>
<h4 id="1-基礎語法"><a href="#1-基礎語法" class="headerlink" title="1. 基礎語法"></a>1. 基礎語法</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params"><span class="variable">$num</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$num</span> * <span class="variable">$num</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> square(<span class="number">5</span>);   <span class="comment">// outputs &#x27;25&#x27;.</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-返回一個數組以得到多個返回值"><a href="#2-返回一個數組以得到多個返回值" class="headerlink" title="2. 返回一個數組以得到多個返回值"></a>2. 返回一個數組以得到多個返回值</h4><p>函數不能返回多個值，但可以通過返回一個數組來得到類似的效果。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">small_numbers</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用短數組語法將数组中的值賦给一組變數</span></span><br><span class="line">[<span class="variable">$zero</span>, <span class="variable">$one</span>, <span class="variable">$two</span>] = small_numbers();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 7.1.0 之前，唯一相等的選擇是使用 list() 結構</span></span><br><span class="line"><span class="keyword">list</span>(<span class="variable">$zero</span>, <span class="variable">$one</span>, <span class="variable">$two</span>) = small_numbers();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-返回一個引用"><a href="#3-返回一個引用" class="headerlink" title="3. 返回一個引用"></a>3. 返回一個引用</h4><p>從函數返回一個引用，必須在函數聲明和指派返回值給一個變量時都使用引用運算符 &amp;</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> &amp;<span class="title">returns_reference</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$someref</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$newref</span> =&amp; returns_reference();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="可變函數"><a href="#可變函數" class="headerlink" title="可變函數"></a>可變函數</h3><p>PHP 支持可變函數的概念。就是說如果一個變量名後有圓括號，PHP 就會先去尋找這個變數名稱的函數執行。可變函數可以用來實現包括回調函數，以及函數表在內的一些用途。</p>
<p>來看看範例</p>
<h4 id="1-可變函數示例"><a href="#1-可變函數示例" class="headerlink" title="1. 可變函數示例"></a>1. 可變函數示例</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;In foo()&lt;br /&gt;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"><span class="variable">$arg</span> = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;In bar(); argument was &#x27;<span class="subst">$arg</span>&#x27;.&lt;br /&gt;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用名為 echo 的函數</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">echoit</span>(<span class="params"><span class="variable">$string</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$func</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"><span class="variable">$func</span>();        <span class="comment">// This calls foo()</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$func</span> = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line"><span class="variable">$func</span>(<span class="string">&#x27;test&#x27;</span>);  <span class="comment">// This calls bar()</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$func</span> = <span class="string">&#x27;echoit&#x27;</span>;</span><br><span class="line"><span class="variable">$func</span>(<span class="string">&#x27;test&#x27;</span>);  <span class="comment">// This calls echoit()</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-可變方法範例"><a href="#2-可變方法範例" class="headerlink" title="2. 可變方法範例"></a>2. 可變方法範例</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Variable</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$name</span> = <span class="string">&#x27;Bar&#x27;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;<span class="variable">$name</span>(); <span class="comment">// This calls the Bar() method</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Bar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;This is Bar&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$foo</span> = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="variable">$funcname</span> = <span class="string">&quot;Variable&quot;</span>;</span><br><span class="line"><span class="variable">$foo</span>-&gt;<span class="variable">$funcname</span>();  <span class="comment">// This calls $foo-&gt;Variable()</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-Variable-方法和靜態屬性範例"><a href="#3-Variable-方法和靜態屬性範例" class="headerlink" title="3. Variable 方法和靜態屬性範例"></a>3. Variable 方法和靜態屬性範例</h4><p>當調用靜態方法時，函數調用要比靜態屬性優先</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="built_in">static</span> <span class="variable">$variable</span> = <span class="string">&#x27;static property&#x27;</span>;</span><br><span class="line">    <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">Variable</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Method Variable called&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> Foo::<span class="variable">$variable</span>; <span class="comment">// This prints &#x27;static property&#x27;. It does need a $variable in this scope.</span></span><br><span class="line"><span class="variable">$variable</span> = <span class="string">&quot;Variable&quot;</span>;</span><br><span class="line">Foo::<span class="variable">$variable</span>();  <span class="comment">// This calls $foo-&gt;Variable() reading $variable in this scope.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-複雜的可調用對象"><a href="#4-複雜的可調用對象" class="headerlink" title="4. 複雜的可調用對象"></a>4. 複雜的可調用對象</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;bar\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;baz\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$func</span> = <span class="keyword">array</span>(<span class="string">&quot;Foo&quot;</span>, <span class="string">&quot;bar&quot;</span>);</span><br><span class="line"><span class="variable">$func</span>(); <span class="comment">// prints &quot;bar&quot;</span></span><br><span class="line"><span class="variable">$func</span> = <span class="keyword">array</span>(<span class="keyword">new</span> Foo, <span class="string">&quot;baz&quot;</span>);</span><br><span class="line"><span class="variable">$func</span>(); <span class="comment">// prints &quot;baz&quot;</span></span><br><span class="line"><span class="variable">$func</span> = <span class="string">&quot;Foo::bar&quot;</span>;</span><br><span class="line"><span class="variable">$func</span>(); <span class="comment">// prints &quot;bar&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 這樣可是會出錯的哦，沒有先實體化類別</span></span><br><span class="line"><span class="variable">$func</span> = <span class="keyword">array</span>(<span class="string">&quot;Foo&quot;</span>, <span class="string">&quot;baz&quot;</span>);</span><br><span class="line"><span class="variable">$func</span>(); <span class="comment">// Uncaught Error: Non-static method Foo::baz() cannot be called statically in ....</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="内部（内置）函数"><a href="#内部（内置）函数" class="headerlink" title="内部（内置）函数"></a>内部（内置）函数</h3><p>PHP 有很多標準的函數和結構。還有一些函數需要和特定地 PHP 擴展模塊一起編譯，否則在使用它們的時候就會得到一個致命的“未定義函數”錯誤。</p>
<p>例如要連接 MySQL，要使用 mysqli_connect() 函數，就需要在編譯 PHP 的時候加上 MySQLi 支持。可以使用 phpinfo() 或者 get_loaded_extensions() 可以得知 PHP 加載了那些擴展庫</p>
<hr>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>匿名函數（Anonymous functions），也稱作閉包函數（closures），它允許臨時創建一個沒有指定名稱的函數。最經常用作回調函數 callable 參數的值。當然，也有其它應用的情況。</p>
<h4 id="1-匿名函數範例"><a href="#1-匿名函數範例" class="headerlink" title="1. 匿名函數範例"></a>1. 匿名函數範例</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 使用回調執行正則表達式搜索和替換</span></span><br><span class="line"><span class="keyword">echo</span> preg_replace_callback(<span class="string">&#x27;~-([a-z])~&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$match</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> strtoupper(<span class="variable">$match</span>[<span class="number">1</span>]);  <span class="comment">// 將所選的變成大寫，從index: 1開始過濾掉原先&quot;-&quot;</span></span><br><span class="line">&#125;, <span class="string">&#x27;hello-world&#x27;</span>);</span><br><span class="line"><span class="comment">// 输出 helloWorld</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>閉包函數也可以作為變量的值來使用。 PHP 會自動把此種表達式轉換成內置類 Closure 的對象實例。把一個 closure 對象賦值給一個變量的方式與普通變量賦值的語法是一樣的，最後也要加上分號 ；</p>
<h4 id="2-匿名函數變量賦值示例"><a href="#2-匿名函數變量賦值示例" class="headerlink" title="2. 匿名函數變量賦值示例"></a>2. 匿名函數變量賦值示例</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$sayHi</span> = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="variable">$name</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Hello <span class="subst">$name</span>&quot;</span>;</span><br><span class="line">&#125;; <span class="comment">// 記得加上分號</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$sayHi</span>(<span class="string">&#x27;joe&#x27;</span>);</span><br><span class="line"><span class="variable">$sayHi</span>(<span class="string">&#x27;cherry&#x27;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-從父作用域繼承變數"><a href="#3-從父作用域繼承變數" class="headerlink" title="3. 從父作用域繼承變數"></a>3. 從父作用域繼承變數</h4><p>閉包可以從父作用域中繼承變量。任何此類變量都應該用 use 語言結構傳遞進去。</p>
<p>PHP 7.1 起，不能傳入此類變量： superglobals(超全局便量)、 $this 或者和參數重名。</p>
<p>從 PHP 8.0.0 開始，作用域繼承的變量列表可能包含一個尾部的逗號，這個逗號將被忽略</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$message</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有 &quot;use&quot; php會不知道這變數從哪來</span></span><br><span class="line"><span class="variable">$example</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    var_dump(<span class="variable">$message</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable">$example</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 繼承父作用域 $message</span></span><br><span class="line"><span class="variable">$example</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) <span class="keyword">use</span> (<span class="params"><span class="variable">$message</span></span>) </span>&#123;</span><br><span class="line">    var_dump(<span class="variable">$message</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable">$example</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inherited variable&#x27;s value is from when the function</span></span><br><span class="line"><span class="comment">// is defined, not when called</span></span><br><span class="line"><span class="variable">$message</span> = <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line"><span class="variable">$example</span>();  <span class="comment">// 不會受到改變因為已經在上面先調用了(14行)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Reset message</span></span><br><span class="line"><span class="variable">$message</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inherit by-reference</span></span><br><span class="line"><span class="variable">$example</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) <span class="keyword">use</span> (<span class="params">&amp;<span class="variable">$message</span></span>) </span>&#123;</span><br><span class="line">    var_dump(<span class="variable">$message</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable">$example</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// The changed value in the parent scope</span></span><br><span class="line"><span class="comment">// is reflected inside the function call</span></span><br><span class="line"><span class="comment">// 父作用域更改值，影響函式回調</span></span><br><span class="line"><span class="variable">$message</span> = <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line"><span class="variable">$example</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Closures can also accept regular arguments</span></span><br><span class="line"><span class="comment">// 閉包可使用常規變數</span></span><br><span class="line"><span class="variable">$example</span> = <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$arg</span></span>) <span class="keyword">use</span> (<span class="params"><span class="variable">$message</span></span>) </span>&#123;</span><br><span class="line">    var_dump(<span class="variable">$arg</span> . <span class="string">&#x27; &#x27;</span> . <span class="variable">$message</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable">$example</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// Notice: Undefined variable: ...</span></span><br><span class="line"><span class="comment">// NULL</span></span><br><span class="line"><span class="comment">// string(5) &quot;hello&quot;</span></span><br><span class="line"><span class="comment">// string(5) &quot;hello&quot;</span></span><br><span class="line"><span class="comment">// string(5) &quot;hello&quot;</span></span><br><span class="line"><span class="comment">// string(5) &quot;world&quot;</span></span><br><span class="line"><span class="comment">// string(11) &quot;hello world&quot;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="箭頭函數"><a href="#箭頭函數" class="headerlink" title="箭頭函數"></a>箭頭函數</h3><p>箭頭函數是更簡潔的匿名函數，都是屬於 Closure 類(閉包)的實現</p>
<p>箭頭函數的語法為 <code>fn (argument_list) =&gt; expr。</code></p>
<p>箭頭函數支持與 匿名函數 相同的功能，只是其父作用域的變量總是自動的。 當表達式中使用的變量是在父作用域中定義的，它將被隱式地按值捕獲。</p>
<p>在下面的例子中，函數 $fn1 和 $fn2 的行為是一樣的</p>
<h4 id="1-箭頭函數自動捕捉變數的值"><a href="#1-箭頭函數自動捕捉變數的值" class="headerlink" title="1. 箭頭函數自動捕捉變數的值"></a>1. 箭頭函數自動捕捉變數的值</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$y</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$fn1</span> = <span class="function"><span class="keyword">fn</span>(<span class="params"><span class="variable">$x</span></span>) =&gt;</span> <span class="variable">$x</span> + <span class="variable">$y</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 相當於 using $y by value:</span></span><br><span class="line"><span class="variable">$fn2</span> = <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$x</span></span>) <span class="keyword">use</span> (<span class="params"><span class="variable">$y</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$x</span> + <span class="variable">$y</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// var_export -- 輸出或返回一個變量的字串表示</span></span><br><span class="line">var_export(<span class="variable">$fn1</span>(<span class="number">3</span>)); <span class="comment">// 4</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-箭頭函數自動捕捉變量的值，即使在嵌套的情況下"><a href="#2-箭頭函數自動捕捉變量的值，即使在嵌套的情況下" class="headerlink" title="2. 箭頭函數自動捕捉變量的值，即使在嵌套的情況下"></a>2. 箭頭函數自動捕捉變量的值，即使在嵌套的情況下</h4><p>通常在 A 程序執行中，尚未結束前又開始執行 B 程序，B 程序結束後，繼續執行 A 程序，就稱為嵌套。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$z</span> = <span class="number">1</span>;</span><br><span class="line"><span class="variable">$fn</span> = <span class="function"><span class="keyword">fn</span>(<span class="params"><span class="variable">$x</span></span>) =&gt;</span> <span class="function"><span class="keyword">fn</span>(<span class="params"><span class="variable">$y</span></span>) =&gt;</span> <span class="variable">$x</span> * <span class="variable">$y</span> + <span class="variable">$z</span>;</span><br><span class="line"><span class="comment">// 輸出 21</span></span><br><span class="line">var_export(<span class="variable">$fn</span>(<span class="number">5</span>)(<span class="number">4</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-箭頭函數有效用法例子"><a href="#3-箭頭函數有效用法例子" class="headerlink" title="3. 箭頭函數有效用法例子"></a>3. 箭頭函數有效用法例子</h4><p>和匿名函數一樣，箭頭函數語法同樣允許標準的函數聲明，包括參數和返回類型、缺省值、變量，以及通過引用傳遞和返回。以下都是箭頭函數的有效例子。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span>(<span class="params"><span class="keyword">array</span> <span class="variable">$x</span></span>) =&gt;</span> <span class="variable">$x</span>;</span><br><span class="line"><span class="built_in">static</span> <span class="function"><span class="keyword">fn</span>(<span class="params"></span>): <span class="title">int</span> =&gt;</span> <span class="variable">$x</span>;</span><br><span class="line"><span class="function"><span class="keyword">fn</span>(<span class="params"><span class="variable">$x</span> = <span class="number">42</span></span>) =&gt;</span> <span class="variable">$x</span>;</span><br><span class="line"><span class="function"><span class="keyword">fn</span>(<span class="params">&amp;<span class="variable">$x</span></span>) =&gt;</span> <span class="variable">$x</span>;</span><br><span class="line"><span class="function"><span class="keyword">fn</span>&amp;(<span class="params"><span class="variable">$x</span></span>) =&gt;</span> <span class="variable">$x</span>;</span><br><span class="line"><span class="function"><span class="keyword">fn</span>(<span class="params"><span class="variable">$x</span>, ...<span class="variable">$rest</span></span>) =&gt;</span> <span class="variable">$rest</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-來自外部範圍的值不能在箭頭函數內修改"><a href="#4-來自外部範圍的值不能在箭頭函數內修改" class="headerlink" title="4. 來自外部範圍的值不能在箭頭函數內修改"></a>4. 來自外部範圍的值不能在箭頭函數內修改</h4><p>箭頭函數會自動綁定上下文變量，這相當於對箭頭函數內部使用的每一個變量 $x 執行了一個 use($x)。這意味著不可能修改外部作用域的任何值，若要實現對值的修改，可以使用 匿名函數 來替代。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$x</span> = <span class="number">1</span>;</span><br><span class="line"><span class="variable">$fn</span> = <span class="function"><span class="keyword">fn</span>(<span class="params"></span>) =&gt;</span> <span class="variable">$x</span>++; <span class="comment">// 不會影響 x 的值</span></span><br><span class="line"><span class="variable">$fn</span>();</span><br><span class="line">var_export(<span class="variable">$x</span>);  <span class="comment">// 輸出 1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="class-類"><a href="#class-類" class="headerlink" title="class 類"></a>class 類</h2><h3 id="class-基本"><a href="#class-基本" class="headerlink" title="class 基本"></a>class 基本</h3><p>每個類的定義都以關鍵字 class 開頭，後面跟著類的名，再一個括號，裡面包含有類的屬性與方法的定義。</p>
<p>一個類可以包含有屬於自己的 常量，變量（稱為“屬性”）以及函數（稱為“方法”）。</p>
<p>當要調用內部屬性或方法時可以使用$this，$this 是一個到當前對象的引用。</p>
<h5 id="1-簡單的類定義"><a href="#1-簡單的類定義" class="headerlink" title="1. 簡單的類定義"></a>1. 簡單的類定義</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 聲明屬性</span></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$var</span> = <span class="string">&#x27;a default value&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 聲明方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">displayVar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;var;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="new"><a href="#new" class="headerlink" title="new"></a>new</h4><p>要創建一個類的實例，必須使用 new 關鍵字。當創建新對象時該對象總是被賦值，除非該對象定義了 構造函數 並且在出錯時拋出了一個 異常。</p>
<p>構造函數 : 類中的一個特殊函數，當使用 new 操作符創建一個類的實例時，構造函數將會自動調用。當函數與類同名時，這個函數將成為構造函數。如果一個類沒有構造函數，則調用基類的構造函數，如果有的話</p>
<p>類應在被實例化之前定義（某些情況下則必須這樣）。</p>
<p>如果在 new 之後跟著的是一個包含有類名的字符串 string，則該類的一個實例被創建。如果該類屬於一個命名空間，則必須使用其完整名稱。</p>
<p>:::warning<br>如果沒有參數要傳遞給類的構造函數，類名後的括號則可以省略掉。<br>:::</p>
<h5 id="2-創建實例"><a href="#2-創建實例" class="headerlink" title="2. 創建實例"></a>2. 創建實例</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$instance</span> = <span class="keyword">new</span> SimpleClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以這樣做：</span></span><br><span class="line"><span class="variable">$className</span> = <span class="string">&#x27;SimpleClass&#x27;</span>;</span><br><span class="line"><span class="variable">$instance</span> = <span class="keyword">new</span> <span class="variable">$className</span>(); <span class="comment">// new SimpleClass()</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="3-創建新對象"><a href="#3-創建新對象" class="headerlink" title="3. 創建新對象"></a>3. 創建新對象</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getNew</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">static</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj1</span> = <span class="keyword">new</span> Test();</span><br><span class="line"><span class="variable">$obj2</span> = <span class="keyword">new</span> <span class="variable">$obj1</span>;</span><br><span class="line">var_dump(<span class="variable">$obj1</span> !== <span class="variable">$obj2</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj3</span> = Test::getNew();</span><br><span class="line">var_dump(<span class="variable">$obj3</span> <span class="keyword">instanceof</span> Test);</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj4</span> = Child::getNew();</span><br><span class="line">var_dump(<span class="variable">$obj4</span> <span class="keyword">instanceof</span> Child);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// bool(true)</span></span><br><span class="line"><span class="comment">// bool(true)</span></span><br><span class="line"><span class="comment">// bool(true)</span></span><br></pre></td></tr></table></figure>
<h4 id="屬性和方法"><a href="#屬性和方法" class="headerlink" title="屬性和方法"></a>屬性和方法</h4><p>類的屬性和方法存在於不同的“命名空間”中，這代表說同一個類的屬性和方法可以使用同樣的名字。在類中訪問屬性和調用方法使用同樣的操作符，那到底是訪問一個屬性還是調用一個方法，取決於你的上下文，即用法是變數的訪問還是函數的調用。</p>
<h5 id="4-訪問類屬性-vs-調用類方法"><a href="#4-訪問類屬性-vs-調用類方法" class="headerlink" title="4. 訪問類屬性 vs. 調用類方法"></a>4. 訪問類屬性 vs. 調用類方法</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$bar</span> = <span class="string">&#x27;property&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;method&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;bar, PHP_EOL, <span class="variable">$obj</span>-&gt;bar(), PHP_EOL; <span class="comment">// PHP_EOL: php換行符號</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// property</span></span><br><span class="line"><span class="comment">// method</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="5-類屬性被賦值為匿名函數時的調用示例"><a href="#5-類屬性被賦值為匿名函數時的調用示例" class="headerlink" title="5. 類屬性被賦值為匿名函數時的調用示例"></a>5. 類屬性被賦值為匿名函數時的調用示例</h5><p>如果你的類屬性被分配給一個 匿名函數 你將無法直接調用它。因為訪問 class 類屬性的優先級要更高，在此場景下需要用括號括起來使用。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$bar</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> Foo();</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> (<span class="variable">$obj</span>-&gt;bar)(), PHP_EOL; <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<h4 id="extends-繼承"><a href="#extends-繼承" class="headerlink" title="extends 繼承"></a>extends 繼承</h4><p>一個類可以在聲明中用 extends 關鍵字繼承另一個類的方法和屬性。 PHP 不支持多重繼承，一個類只能繼承一個基類。</p>
<p>被繼承的方法和屬性可以通過用同樣的名字重新聲明被覆蓋。但是如果父類定義方法時使用了 final 關鍵字，則該方法不可被覆蓋。可以通過 parent:: 來訪問被覆蓋的方法或屬性</p>
<h5 id="6-簡單的類繼承範例"><a href="#6-簡單的類繼承範例" class="headerlink" title="6. 簡單的類繼承範例"></a>6. 簡單的類繼承範例</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExtendClass</span> <span class="keyword">extends</span> <span class="title">SimpleClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 同樣名稱的方法，將會覆蓋父類的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">displayVar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Extending class\n&quot;</span>;</span><br><span class="line">        <span class="built_in">parent</span>::displayVar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$extended</span> = <span class="keyword">new</span> ExtendClass();</span><br><span class="line"><span class="variable">$extended</span>-&gt;displayVar();</span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// Extending class</span></span><br><span class="line"><span class="comment">// a default value</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="簽名兼容性規則"><a href="#簽名兼容性規則" class="headerlink" title="簽名兼容性規則"></a>簽名兼容性規則</h4><p>當覆蓋（override）方法時，簽名必須兼容父類方法。否則會導致 Fatal 錯誤（PHP 8.0.0 之前是 E_WARNING 級錯誤）。兼容簽名是指：遵守協變與逆變規則； 強制參數可以改為可選參數；新參數為可選參數。這就是著名的里氏替換原則（Liskov Substitution Principle），簡稱 LSP。不過構造器和 私有（private）方法不需要遵循簽名兼容規則， 哪怕簽名不匹配也不會導致 Fatal(致命) 錯誤</p>
<h5 id="7-兼容子類方法"><a href="#7-兼容子類方法" class="headerlink" title="7. 兼容子類方法"></a>7. 兼容子類方法</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$a</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Valid\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Extend1</span> <span class="keyword">extends</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$a</span> = <span class="number">5</span></span>) // 新參數為可選參數</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::foo(<span class="variable">$a</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Extend2</span> <span class="keyword">extends</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$a</span>, <span class="variable">$b</span> = <span class="number">5</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::foo(<span class="variable">$a</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$extended1</span> = <span class="keyword">new</span> Extend1();</span><br><span class="line"><span class="variable">$extended1</span>-&gt;foo();</span><br><span class="line"><span class="variable">$extended2</span> = <span class="keyword">new</span> Extend2();</span><br><span class="line"><span class="variable">$extended2</span>-&gt;foo(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 輸出</span></span><br><span class="line"><span class="comment">// Valid</span></span><br><span class="line"><span class="comment">// Valid</span></span><br></pre></td></tr></table></figure>
<h5 id="8-子類方法移除參數后，導致-Fatal-致命-錯誤"><a href="#8-子類方法移除參數后，導致-Fatal-致命-錯誤" class="headerlink" title="8.子類方法移除參數后，導致 Fatal(致命) 錯誤"></a>8.子類方法移除參數后，導致 Fatal(致命) 錯誤</h5><p>演示子類與父類方法不兼容的例子：通過移除參數、修改可選參數為必填參數。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$a</span> = <span class="number">5</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Valid\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Extend</span> <span class="keyword">extends</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::foo(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 聲明必須與Base class 的foo方法兼容</span></span><br><span class="line"><span class="comment">//Fatal error: Declaration of Extend::foo() must be compatible with Base::foo(int $a = 5)</span></span><br></pre></td></tr></table></figure>
<h4 id="class"><a href="#class" class="headerlink" title="::class"></a>::class</h4><p>關鍵詞 class 也可用於類名的解析。使用 ClassName::class 可以獲取包含類 ClassName 的完全限定名稱。這對使用了 命名空間 的類尤其有用。</p>
<h5 id="9-類名的解析"><a href="#9-類名的解析" class="headerlink" title="9. 類名的解析"></a>9. 類名的解析</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">NS</span> &#123;</span><br><span class="line">    <span class="title">class</span> <span class="title">ClassName</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title">echo</span> <span class="title">ClassName</span>::<span class="title">class</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">// 輸出</span></span><br><span class="line"><span class="comment">// NS\ClassName</span></span><br></pre></td></tr></table></figure>
<p>:::warning<br>使用 ::class 解析類名操作會在底層編譯時進行。這意味著在執行該操作時，類還沒有被加載。因此，即使要調用的類不存在，類名也會被展示。在此種場景下，並不會發生錯誤。</p>
<h5 id="10-解析不存在的類名"><a href="#10-解析不存在的類名" class="headerlink" title="10. 解析不存在的類名"></a>10. 解析不存在的類名</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">print</span> Does\Not\Exist::class;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>輸出: <code>Does\Not\Exist</code><br>:::</p>
<h5 id="11-類名解析"><a href="#11-類名解析" class="headerlink" title="11. 類名解析"></a>11. 類名解析</h5><p>自 PHP 8.0.0 起，與上述情況不同，此時解析將會在運行時進行。此操作的運行結果和 get_class() 函數一致</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">NS</span> &#123;</span><br><span class="line">    <span class="title">class</span> <span class="title">ClassName</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$<span class="title">c</span> = <span class="title">new</span> <span class="title">ClassName</span>();</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$c</span>::class;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 輸出</span></span><br><span class="line"><span class="comment">// NS\ClassName</span></span><br></pre></td></tr></table></figure>
<h4 id="Nullsafe-方法和屬性"><a href="#Nullsafe-方法和屬性" class="headerlink" title="Nullsafe 方法和屬性"></a>Nullsafe 方法和屬性</h4><p>自 PHP 8.0.0 起，類屬性和方法可以通過”nullsafe” 操作符訪問：除了一處不同，nullsafe 操作符和以上原來的屬性、方法訪問是一致的： 對象引用解析（dereference）為 並且如果是鍊式調用中的一部分，剩餘鏈條會直接跳過。?-&gt;nullnull</p>
<p>此操作的結果，類似於在每次訪問前使用</p>
<h5 id="12-Nullsafe-操作符"><a href="#12-Nullsafe-操作符" class="headerlink" title="12. Nullsafe 操作符"></a>12. Nullsafe 操作符</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 自 PHP 8.0.0 起可用</span></span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$repository</span>?-&gt;getUser(<span class="number">5</span>)?-&gt;name;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面的code和下面相同</span></span><br><span class="line"><span class="keyword">if</span> (is_null(<span class="variable">$repository</span>)) &#123;</span><br><span class="line">    <span class="variable">$result</span> = <span class="literal">null</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable">$user</span> = <span class="variable">$repository</span>-&gt;getUser(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">if</span> (is_null(<span class="variable">$user</span>)) &#123;</span><br><span class="line">        <span class="variable">$result</span> = <span class="literal">null</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$result</span> = <span class="variable">$user</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>:::warning<br>注意</p>
<p>僅當 null 被認為是屬性或方法返回的有效和預期的可能值時，才推薦使用 nullsafe 操作符。如果業務中需要明確指示錯誤，拋出異常會是更好的處理方式。<br>:::</p>
<hr>
<h3 id="class-屬性"><a href="#class-屬性" class="headerlink" title="class 屬性"></a>class 屬性</h3><p>類的變量成員叫做“屬性”，或者叫“字段”、“特徵”，在 PHP 文檔統一稱為“屬性”。屬性聲明是由關鍵字 public(公開)，protected(非公開) 或者 private(私有) 開頭，然後跟一個普通的變量聲明來組成。屬性中的變量可以初始化，但是初始化的值必須是常數，這裡的常數是指 PHP 腳本在編譯階段時就可以得到其值，而不依賴於運行時的信息才能求值。</p>
<p>在類的成員方法裡面，可以用 -&gt;（對象運算符）：$this-&gt;property（其中 property 是該屬性名）這種方式來訪問非靜態屬性。</p>
<p>靜態屬性則是用 ::（雙冒號）：self::$property 來訪問。</p>
<p>以下為屬性聲明範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 錯誤的屬性聲明</span></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var1</span> = <span class="string">&#x27;hello &#x27;</span> . <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var2</span> = <span class="string">&lt;&lt;&lt;EOD</span></span><br><span class="line"><span class="string">hello world</span></span><br><span class="line"><span class="string">EOD</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var3</span> = <span class="number">1</span>+<span class="number">2</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var4</span> = <span class="built_in">self</span>::myStaticMethod();</span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var5</span> = <span class="variable">$myVar</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 正確的屬性聲明</span></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var6</span> = myConstant;</span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var7</span> = <span class="keyword">array</span>(<span class="literal">true</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//在 PHP 5.3.0 及之後，下面的聲明也正確</span></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$var8</span> = &lt;&lt;&lt;<span class="string">&#x27;EOD&#x27;</span></span><br><span class="line">hello world</span><br><span class="line">EOD;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="類常量"><a href="#類常量" class="headerlink" title="類常量"></a>類常量</h3><p>可以把在類中始終保持不變的值定義為常量。在定義和使用常量的時候不需要使用 $ 符號。 常量的值必須是一個定值，不能是變量，類屬性，數學運算的結果或函數調用。</p>
<p>如何定義和使用類常量，查看以下範例</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> constant = <span class="string">&#x27;constant value&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">showConstant</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span>  <span class="built_in">self</span>::constant . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> MyClass::constant . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&quot;MyClass&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$classname</span>::constant . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 自 5.3.0 起</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$class</span> = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="variable">$class</span>-&gt;showConstant();</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$class</span>::constant.<span class="string">&quot;\n&quot;</span>; <span class="comment">// 自 PHP 5.3.0 起</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="類的自動加載"><a href="#類的自動加載" class="headerlink" title="類的自動加載"></a>類的自動加載</h3><p>在編寫有關於對象（OOP） 程序時，很多開發者為每個類新建一個 PHP 文件。這會帶來一個煩惱：每個腳本的開頭，都需要包含（include）一個長長的列表（每個類都有個文件）。</p>
<p>在 PHP 5 中，已經不再需要這樣了。 spl_autoload_register() 函數可以註冊任意數量的自動加載器，當使用尚未被定義的類（class）和接口（interface）時自動去加載。通過註冊自動加載器，腳本引擎在 PHP 出錯失敗前有了最後一個機會加載所需的類。</p>
<p>:::info<br>儘管 <strong>autoload() 函數也能自動加載類和接口，但更建議使用 spl_autoload_register() 函數。 spl_autoload_register() 提供了一種更加靈活的方式來實現類的自動加載（同一個應用中，可以支持任意數量的加載器，比如第三方庫中的）。因此，不再建議使用 </strong>autoload() 函數，在以後的版本中它可能被棄用<br>:::</p>
<h5 id="1-自動加載範例"><a href="#1-自動加載範例" class="headerlink" title="1. 自動加載範例"></a>1. 自動加載範例</h5><p>本例嘗試分別從 MyClass1.php 和 MyClass2.php 文件中加載 MyClass1 和 MyClass2 類。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">spl_autoload_register(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$class_name</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">require_once</span> <span class="variable">$class_name</span> . <span class="string">&#x27;.php&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span>  = <span class="keyword">new</span> MyClass1();</span><br><span class="line"><span class="variable">$obj2</span> = <span class="keyword">new</span> MyClass2();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-自動加載在-PHP-5-3-0-中的異常處理"><a href="#2-自動加載在-PHP-5-3-0-中的異常處理" class="headerlink" title="2. 自動加載在 PHP 5.3.0+ 中的異常處理"></a>2. 自動加載在 PHP 5.3.0+ 中的異常處理</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">spl_autoload_register(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$name</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Want to load <span class="subst">$name</span>.\n&quot;</span>;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&quot;Unable to load <span class="subst">$name</span>.&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable">$obj</span> = <span class="keyword">new</span> NonLoadableClass();</span><br><span class="line">&#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$e</span>-&gt;getMessage(), <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Want to load NonLoadableClass.</span></span><br><span class="line"><span class="comment">// Unable to load NonLoadableClass.</span></span><br></pre></td></tr></table></figure>
<h3 id="構造函數和析構函數"><a href="#構造函數和析構函數" class="headerlink" title="構造函數和析構函數"></a>構造函數和析構函數</h3><h4 id="構造函數"><a href="#構造函數" class="headerlink" title="構造函數"></a>構造函數</h4><p><code>__construct(mixed ...$values = &quot;&quot;): void</code></p>
<p>PHP 允許開發者在一個類中定義一個方法作為構造函數。具有構造函數的類會在每次創建新對象時先調用此方法，所以非常適合在使用對象之前做一些初始化工作</p>
<p>:::warning<br>注意: 如果子類中定義了構造函數則不會隱式調用其父類的構造函數。要執行父類的構造函數，需要在子類的構造函數中調用 parent::__construct()。如果子類沒有定義構造函數則會如同一個普通的類方法一樣從父類繼承（假如沒有被定義為 private 的話）。<br>:::</p>
<h5 id="1-繼承中的構造函數"><a href="#1-繼承中的構造函數" class="headerlink" title="1. 繼承中的構造函數"></a>1. 繼承中的構造函數</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">print</span> <span class="string">&quot;In BaseClass constructor\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">BaseClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::__construct();</span><br><span class="line">        <span class="keyword">print</span> <span class="string">&quot;In SubClass constructor\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OtherSubClass</span> <span class="keyword">extends</span> <span class="title">BaseClass</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 繼承 BaseClass 的構造函數</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// In BaseClass constructor</span></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> BaseClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// In BaseClass constructor</span></span><br><span class="line"><span class="comment">// In SubClass constructor</span></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> SubClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// In BaseClass constructor</span></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> OtherSubClass();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-構造器函數"><a href="#2-構造器函數" class="headerlink" title="2. 構造器函數"></a>2. 構造器函數</h5><p>因此可以定義任何數量的參數，可以是必選、可以有類型、可以有默認值。構造器的參數放在類名後的括號裡調用。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> <span class="variable">$x</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> <span class="variable">$y</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$x</span>, <span class="keyword">int</span> <span class="variable">$y</span> = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;x = <span class="variable">$x</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;y = <span class="variable">$y</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 兩個參數都傳入</span></span><br><span class="line"><span class="variable">$p1</span> = <span class="keyword">new</span> Point(<span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"><span class="comment">// 僅傳入必填的參數。 $y 會默認為0。</span></span><br><span class="line"><span class="variable">$p2</span> = <span class="keyword">new</span> Point(<span class="number">4</span>);</span><br><span class="line"><span class="comment">// 使用命名參數（PHP 8.0 起）:</span></span><br><span class="line"><span class="variable">$p3</span> = <span class="keyword">new</span> Point(y: <span class="number">5</span>, x: <span class="number">4</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果一個類沒有構造函數，以及構造函數的參數不是必填項時，括號就可以省略。</p>
<h4 id="析構函數"><a href="#析構函數" class="headerlink" title="析構函數"></a>析構函數</h4><p><code>__destruct(): void</code></p>
<h5 id="1-析構函數範例"><a href="#1-析構函數範例" class="headerlink" title="1. 析構函數範例"></a>1. 析構函數範例</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDestructableClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">print</span> <span class="string">&quot;In constructor\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">print</span> <span class="string">&quot;Destroying &quot;</span> . <span class="keyword">__CLASS__</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> MyDestructableClass();</span><br></pre></td></tr></table></figure>
<p>和構造函數一樣，父類的析構函數不會被引擎暗中調用。要執行父類的析構函數，必須在子類的析構函數體中顯式調用 parent::__destruct()。</p>
<p>此外也和構造函數一樣，子類如果自己沒有定義析構函數則會繼承父類的。 析構函數即使在使用 exit() 終止腳本運行時也會被調用。</p>
<p>在析構函數中調用 exit() 將會中止其餘關閉操作的運行。</p>
<p>:::warning<br>注意: 析構函數在腳本關閉時調用，此時所有的 HTTP 頭信息已經發出。腳本關閉時的工作目錄有可能和在 SAPI（如 apache）中時不同<br>:::</p>
<p>:::warning<br>注意: 試圖在析構函數（在腳本終止時被調用）中拋出一個異常會導致致命錯誤。<br>:::</p>
<hr>
<h3 id="訪問控制-可見性"><a href="#訪問控制-可見性" class="headerlink" title="訪問控制(可見性)"></a>訪問控制(可見性)</h3><p>對屬性或方法的訪問控制（PHP 7.1.0 以後支持常量），通過在前面添加關鍵字 public（公有），protected（受保護）或 private（私有）來實現的。</p>
<p>被定義為公有的類成員可以在任何地方被訪問。被定義為受保護的類成員則可以被其自身以及其子類和父類訪問。被定義為私有的類成員則只能被其定義所在的類訪問。</p>
<h4 id="屬性的訪問控制"><a href="#屬性的訪問控制" class="headerlink" title="屬性的訪問控制"></a>屬性的訪問控制</h4><h5 id="1-屬性聲明"><a href="#1-屬性聲明" class="headerlink" title="1. 屬性聲明"></a>1. 屬性聲明</h5><p>類屬性必須定義為公有，受保護，私有之一。如果用 var 定義，則被視為公有</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$public</span> = <span class="string">&#x27;Public&#x27;</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$protected</span> = <span class="string">&#x27;Protected&#x27;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$private</span> = <span class="string">&#x27;Private&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">printHello</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;public; <span class="comment">// 這行能被正常執行</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;protected; <span class="comment">// 這行會產生一個致命錯誤</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;private; <span class="comment">// 這行也會產生一個致命錯誤</span></span><br><span class="line"><span class="variable">$obj</span>-&gt;printHello(); <span class="comment">// 輸出 Public、Protected 和 Private</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 可以對 public 和 protected 進行重定義，但 private 而不能</span></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$public</span> = <span class="string">&#x27;Public2&#x27;</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$protected</span> = <span class="string">&#x27;Protected2&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">printHello</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj2</span> = <span class="keyword">new</span> MyClass2();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj2</span>-&gt;public; <span class="comment">// 這行能被正常執行</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj2</span>-&gt;protected; <span class="comment">// 這行會產生一個致命錯誤</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj2</span>-&gt;private; <span class="comment">// 未定義 private</span></span><br><span class="line"><span class="variable">$obj2</span>-&gt;printHello(); <span class="comment">// 輸出 Public2、Protected2 和 Undefined</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="方法的訪問控制"><a href="#方法的訪問控制" class="headerlink" title="方法的訪問控制"></a>方法的訪問控制</h4><h5 id="方法聲明"><a href="#方法聲明" class="headerlink" title="方法聲明"></a>方法聲明</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 聲明一個公有的構造函數</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 聲明一個公有的方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">MyPublic</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 聲明一個受保護的方法</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">MyProtected</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 聲明一個私有的方法</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">MyPrivate</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 預設為公開方法</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPublic();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyProtected();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPrivate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass</span> = <span class="keyword">new</span> MyClass;</span><br><span class="line"><span class="variable">$myclass</span>-&gt;MyPublic(); <span class="comment">// 這行能被正常執行</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;MyProtected(); <span class="comment">// 會出現致命錯誤</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;MyPrivate(); <span class="comment">// 會出現致命錯誤</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;Foo(); <span class="comment">// 公有，受保護，私有都可以執行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 為公開的函數</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Foo2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPublic();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyProtected();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPrivate(); <span class="comment">// 會發生錯誤</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass2</span> = <span class="keyword">new</span> MyClass2;</span><br><span class="line"><span class="variable">$myclass2</span>-&gt;MyPublic(); <span class="comment">// 这行能被正常执行</span></span><br><span class="line"><span class="variable">$myclass2</span>-&gt;Foo2(); <span class="comment">// 公有，受保護，私有不可執行只能在原class裡執行</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;testPrivate();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;testPublic();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testPublic</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Bar::testPublic\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">testPrivate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Bar::testPrivate\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">extends</span> <span class="title">Bar</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testPublic</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Foo::testPublic\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">testPrivate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Foo::testPrivate\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myFoo</span> = <span class="keyword">new</span> foo();</span><br><span class="line"><span class="variable">$myFoo</span>-&gt;test(); <span class="comment">// Bar::testPrivate</span></span><br><span class="line">                <span class="comment">// Foo::testPublic</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="常量的控制訪問"><a href="#常量的控制訪問" class="headerlink" title="常量的控制訪問"></a>常量的控制訪問</h4><h5 id="php-7-1-up-中常量聲明"><a href="#php-7-1-up-中常量聲明" class="headerlink" title="php 7.1 up 中常量聲明"></a>php 7.1 up 中常量聲明</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 公有常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">const</span> MY_PUBLIC = <span class="string">&#x27;public&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 受保護的常量</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">const</span> MY_PROTECTED = <span class="string">&#x27;protected&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 私有常量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">const</span> MY_PRIVATE = <span class="string">&#x27;private&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PUBLIC;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PROTECTED;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PRIVATE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass</span> = <span class="keyword">new</span> MyClass();</span><br><span class="line">MyClass::MY_PUBLIC; <span class="comment">// 這行可以正常執行</span></span><br><span class="line">MyClass::MY_PROTECTED; <span class="comment">// 這行會產生一個致命錯誤</span></span><br><span class="line">MyClass::MY_PRIVATE; <span class="comment">// 這行會產生一個致命錯誤</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;foo(); <span class="comment">// 將會輸出：Public Protected Private</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// This is public</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PUBLIC;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PROTECTED;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PRIVATE; <span class="comment">// 這行會產生一個致命錯誤</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass2</span> = <span class="keyword">new</span> MyClass2;</span><br><span class="line"><span class="keyword">echo</span> MyClass2::MY_PUBLIC; <span class="comment">// 這行可以正常執行</span></span><br><span class="line"><span class="variable">$myclass2</span>-&gt;foo2(); <span class="comment">// 將會輸出：Public Protected，MY_PRIVATE 是私有常量，無法輸出</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="其他對象的訪問控制"><a href="#其他對象的訪問控制" class="headerlink" title="其他對象的訪問控制"></a>其他對象的訪問控制</h4><h5 id="訪問同一個對像類型的私有成員"><a href="#訪問同一個對像類型的私有成員" class="headerlink" title="訪問同一個對像類型的私有成員"></a>訪問同一個對像類型的私有成員</h5><p>同一個類的對象即使不是同一個實例也可以互相訪問對方的私有與受保護成員。這是由於在這些對象的內部具體實現的細節都是已知的</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$foo</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$foo</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;foo = <span class="variable">$foo</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Accessed the private method.&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Test <span class="variable">$other</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// We can change the private property:</span></span><br><span class="line">        <span class="variable">$other</span>-&gt;foo = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">        var_dump(<span class="variable">$other</span>-&gt;foo);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// We can also call the private method:</span></span><br><span class="line">        <span class="variable">$other</span>-&gt;bar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$test</span> = <span class="keyword">new</span> Test(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$test</span>-&gt;baz(<span class="keyword">new</span> Test(<span class="string">&#x27;other&#x27;</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// string(5) &quot;hello&quot;</span></span><br><span class="line"><span class="comment">// Accessed the private method.</span></span><br></pre></td></tr></table></figure>
<h3 id="範圍解析操作符"><a href="#範圍解析操作符" class="headerlink" title="範圍解析操作符(::)"></a>範圍解析操作符(::)</h3><p>php 可以利用這一對冒號來訪問靜態成員，類常量，還可以用於覆蓋類中的屬性和方法</p>
<h5 id="在類的外部使用-操作符"><a href="#在類的外部使用-操作符" class="headerlink" title="在類的外部使用 :: 操作符"></a>在類的外部使用 :: 操作符</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> CONST_VALUE = <span class="string">&#x27;A constant value&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&#x27;MyClass&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$classname</span>::CONST_VALUE; <span class="comment">// 自 PHP 5.3.0 起</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> MyClass::CONST_VALUE;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>self，parent 和 static 這三個特殊的關鍵字是用於在類定義的內部對其屬性或方法進行訪問的。</p>
<h5 id="在類定義內部使用"><a href="#在類定義內部使用" class="headerlink" title="在類定義內部使用 ::"></a>在類定義內部使用 ::</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OtherClass</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$my_static</span> = <span class="string">&#x27;static var&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">doubleColon</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">parent</span>::CONST_VALUE . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="variable">$my_static</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&#x27;OtherClass&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$classname</span>::doubleColon(); <span class="comment">// 自 PHP 5.3.0 起</span></span><br><span class="line"></span><br><span class="line">OtherClass::doubleColon();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>當一個子類覆蓋其父類中的方法時，PHP 不會調用父類中已被覆蓋的方法。是否調用父類的方法取決於子類。這種機制也作用於構造函數和析構函數，重載以及魔術方法。</p>
<h5 id="調用父類的方法"><a href="#調用父類的方法" class="headerlink" title="調用父類的方法"></a>調用父類的方法</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;MyClass::myFunc()\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OtherClass</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 覆蓋了父類定義</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 但還是可以調用父類中被覆盖的方法</span></span><br><span class="line">        <span class="built_in">parent</span>::myFunc();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;OtherClass::myFunc()\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$class</span> = <span class="keyword">new</span> OtherClass();</span><br><span class="line"><span class="variable">$class</span>-&gt;myFunc();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="靜態-static-關鍵字"><a href="#靜態-static-關鍵字" class="headerlink" title="靜態(static)關鍵字"></a>靜態(static)關鍵字</h3><p>聲明類屬性或方法為靜態，就可以不實例化類而直接訪問。靜態屬性不能通過一個類已實例化的對象來訪問（但靜態方法可以）</p>
<h4 id="靜態方法"><a href="#靜態方法" class="headerlink" title="靜態方法"></a>靜態方法</h4><h5 id="靜態方法示例"><a href="#靜態方法示例" class="headerlink" title="靜態方法示例"></a>靜態方法示例</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">aStaticMethod</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo::aStaticMethod();</span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&#x27;Foo&#x27;</span>;</span><br><span class="line"><span class="variable">$classname</span>::aStaticMethod();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="靜態屬性"><a href="#靜態屬性" class="headerlink" title="靜態屬性"></a>靜態屬性</h4><p>靜態屬性不可以由對象通過 -&gt; 操作符來訪問。 就像其它所有的 PHP 靜態變量一樣，靜態屬性在初始化時遵循和 const 表達式一樣的規則： 有一些特定的表達式是可行的，取決於它們是否能在編譯時就計算出值。 通過變量來引用一個類是可行的，但這個變量的值不能是一個保留字 （例如 self，parent 和 static）</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$my_static</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">staticValue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable">$my_static</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> <span class="keyword">extends</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">fooStatic</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">parent</span>::<span class="variable">$my_static</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> Foo::<span class="variable">$my_static</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$foo</span> = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$foo</span>-&gt;staticValue() . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$foo</span>-&gt;my_static . <span class="string">&quot;\n&quot;</span>;      <span class="comment">// 未定義的 &quot;屬性&quot; my_static</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="variable">$foo</span>::<span class="variable">$my_static</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&#x27;Foo&#x27;</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$classname</span>::<span class="variable">$my_static</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> Bar::<span class="variable">$my_static</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="variable">$bar</span> = <span class="keyword">new</span> Bar();</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$bar</span>-&gt;fooStatic() . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="抽象類"><a href="#抽象類" class="headerlink" title="抽象類"></a>抽象類</h3><p>PHP 也支援抽象類的和抽象方法，被定義為抽象類的方法不能被實體化，在任何一個類別中，<br>如果他至少有一個方法被聲明為抽象，那這個類必須要被聲明為抽象類。被定義為抽象類的方法只能聲明他該怎麼使用，不能定義具體功能實現。</p>
<p>當有類別繼承抽象類別時，子類別必須要定義父類別中的所以抽象方法，另外，這些方法的訪問控制必須和父類中一樣（或者更為寬鬆）。例如某個抽象方法是被聲明為受保護的，那麼子類中實現的方法就應該聲明為受保護的或者公有的，而不能定義為私有的。</p>
<p>此外方法的調用方式必須匹配，即類型和所需參數數量必須一致。例如，子類定義了一個可選參數，而父類抽象方法的聲明里沒有，則兩者的聲明並無衝突。</p>
<blockquote>
<p>這也適用於 PHP 5.4 起的構造函數。在 PHP 5.4 之前的構造函數聲明可以不一樣的。</p>
</blockquote>
<h4 id="1-抽象類範例-1"><a href="#1-抽象類範例-1" class="headerlink" title="1. 抽象類範例 1"></a>1. 抽象類範例 1</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"> <span class="comment">// 子類必須定義這些方法，否則會出錯</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span>(<span class="params"><span class="variable">$prefix</span></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 普通方法（非抽象方法）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">printOut</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">print</span> <span class="keyword">$this</span>-&gt;getValue() . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass1</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ConcreteClass1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span>(<span class="params"><span class="variable">$prefix</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;<span class="subst">&#123;$prefix&#125;</span>ConcreteClass1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass2</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ConcreteClass2&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span>(<span class="params"><span class="variable">$prefix</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;<span class="subst">&#123;$prefix&#125;</span>ConcreteClass2&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$class1</span> = <span class="keyword">new</span> ConcreteClass1;</span><br><span class="line"><span class="variable">$class1</span>-&gt;printOut();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$class1</span>-&gt;prefixValue(<span class="string">&#x27;FOO_&#x27;</span>) .<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$class2</span> = <span class="keyword">new</span> ConcreteClass2;</span><br><span class="line"><span class="variable">$class2</span>-&gt;printOut();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$class2</span>-&gt;prefixValue(<span class="string">&#x27;FOO_&#x27;</span>) .<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// ConcreteClass1</span></span><br><span class="line"><span class="comment">// FOO_ConcreteClass1</span></span><br><span class="line"><span class="comment">// ConcreteClass2</span></span><br><span class="line"><span class="comment">// FOO_ConcreteClass2</span></span><br></pre></td></tr></table></figure>
<h4 id="2-抽象類範例-2"><a href="#2-抽象類範例-2" class="headerlink" title="2. 抽象類範例 2"></a>2. 抽象類範例 2</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 我们的抽象方法仅需要定义需要的参数</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixName</span>(<span class="params"><span class="variable">$name</span></span>)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 子類的方法可以定義父類方法中不存在的可選參數，不衝突</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixName</span>(<span class="params"><span class="variable">$name</span>, <span class="variable">$separator</span> = <span class="string">&quot;.&quot;</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$name</span> == <span class="string">&quot;Pacman&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$prefix</span> = <span class="string">&quot;Mr&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">elseif</span> (<span class="variable">$name</span> == <span class="string">&quot;Pacwoman&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$prefix</span> = <span class="string">&quot;Mrs&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$prefix</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;<span class="subst">&#123;$prefix&#125;</span><span class="subst">&#123;$separator&#125;</span> <span class="subst">&#123;$name&#125;</span>&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$class</span> = <span class="keyword">new</span> ConcreteClass;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$class</span>-&gt;prefixName(<span class="string">&quot;Pacman&quot;</span>), <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$class</span>-&gt;prefixName(<span class="string">&quot;Pacwoman&quot;</span>), <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// outputs</span></span><br><span class="line"><span class="comment">// Mr. Pacman</span></span><br><span class="line"><span class="comment">// Mrs. Pacwoman</span></span><br></pre></td></tr></table></figure>
<h3 id="Interface-對象接口也稱介面"><a href="#Interface-對象接口也稱介面" class="headerlink" title="Interface 對象接口也稱介面"></a>Interface 對象接口也稱介面</h3><p>使用介面（interface），可以指定某個類必須實現哪些方法，但不需要定義這些方法的具體內容。由於介面（interface）和類（class）、trait 共享了命名空間，所以它們不能重名。介面就像定義一個標準的類一樣，通過 interface 關鍵字替換掉 class 關鍵字來定義，但其中所有的方法都是空的。介面中定義的所有方法都必須是公有，這是介面的特性。在實踐中，往往出於兩個輔助目的使用介面： 因為實現了同一個介面，所以開發者創建的對象雖然源自不同的類，但可能可以交換使用。常用於多個數據庫的服務訪問、多個支付網關、不同的緩存策略等。可能不需要任何代碼修改，就能切換不同的實現方式。能夠讓函數與方法接受一個符合介面的參數，而不需要關心對像如何做、如何實現。這些介面常常命名成類似 Iterable、Cacheable、Renderable， 以便於體現出功能的含義。</p>
<p>:::warning<br>注意: 雖然沒有禁止，但是強烈建議不要在接口中使用 構造器。因為這樣在對象實現接口時，會大幅降低靈活性。此外，也不能強制確保構造器遵守繼承規則，將導致不可預料的行為結果。<br>:::</p>
<h4 id="實現-implements"><a href="#實現-implements" class="headerlink" title="實現 implements"></a>實現 implements</h4><p>要使用一個介面，使用 implements 操作符。類中必須使用介面中定義的所有方法，否則會報一個致命錯誤。類可以實現多個接口，用逗號來分隔多個接口的名稱。</p>
<p>:::danger<br>警告：類使用（implement）兩個接口時，如果它們定義了相同名稱的方法，只有簽名相同的時候才是允許的。<br>:::</p>
<p>:::danger<br>警告：使用介面的時候，class 中的參數名稱不必和介面完全一致。然而， PHP 8.0 起語法開始支持命名參數， 也就是說調用方會依賴介面中參數的名稱。因此，強烈建議開發者的參數的命名，在類和介面中保持一致。<br>:::</p>
<p>:::warning<br>注意:接口也可以通過 extends 操作符繼承<br>:::</p>
<p>:::warning<br>注意:類實現介面時，必須以兼容的簽名定義介面中所有方法。<br>:::</p>
<h5 id="1-介面範例"><a href="#1-介面範例" class="headerlink" title="1. 介面範例"></a>1. 介面範例</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 聲明一個&#x27;Template&#x27;介面</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Template</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setVariable</span>(<span class="params"><span class="variable">$name</span>, <span class="variable">$var</span></span>)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHtml</span>(<span class="params"><span class="variable">$template</span></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用介面</span></span><br><span class="line"><span class="comment">// 正確寫法如下</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WorkingTemplate</span> <span class="keyword">implements</span> <span class="title">Template</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$vars</span> = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setVariable</span>(<span class="params"><span class="variable">$name</span>, <span class="variable">$var</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;vars[<span class="variable">$name</span>] = <span class="variable">$var</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHtml</span>(<span class="params"><span class="variable">$template</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span>(<span class="keyword">$this</span>-&gt;vars <span class="keyword">as</span> <span class="variable">$name</span> =&gt; <span class="variable">$value</span>) &#123;</span><br><span class="line">            <span class="variable">$template</span> = str_replace(<span class="string">&#x27;&#123;&#x27;</span> . <span class="variable">$name</span> . <span class="string">&#x27;&#125;&#x27;</span>, <span class="variable">$value</span>, <span class="variable">$template</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$template</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面的寫法是錯誤的，會報錯，因為沒有使用到該介面方法 getHtml()：</span></span><br><span class="line"><span class="comment">// Fatal error: Class BadTemplate contains 1 abstract methods</span></span><br><span class="line"><span class="comment">// and must therefore be declared abstract (Template::getHtml)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BadTemplate</span> <span class="keyword">implements</span> <span class="title">Template</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$vars</span> = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setVariable</span>(<span class="params"><span class="variable">$name</span>, <span class="variable">$var</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;vars[<span class="variable">$name</span>] = <span class="variable">$var</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-可擴充介面"><a href="#2-可擴充介面" class="headerlink" title="2. 可擴充介面"></a>2. 可擴充介面</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Baz <span class="variable">$baz</span></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正確寫法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Baz <span class="variable">$baz</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 錯誤寫法導致致命錯誤</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Foo <span class="variable">$foo</span></span>) // 參考錯誤</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="3-拓展多介面"><a href="#3-拓展多介面" class="headerlink" title="3. 拓展多介面"></a>3. 拓展多介面</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">A</span>, <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">C</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="4-使用介面常量"><a href="#4-使用介面常量" class="headerlink" title="4. 使用介面常量"></a>4. 使用介面常量</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> B = <span class="string">&#x27;Interface constant&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出接口常量</span></span><br><span class="line"><span class="keyword">echo</span> A::B;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 錯誤寫法，因為常量不能被覆蓋。接口常量的概念和類常量是一樣的。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">implements</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> B = <span class="string">&#x27;Class constant&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="5-抽象（abstract）類的介面使用"><a href="#5-抽象（abstract）類的介面使用" class="headerlink" title="5. 抽象（abstract）類的介面使用"></a>5. 抽象（abstract）類的介面使用</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$s</span></span>): <span class="title">string</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$i</span></span>): <span class="title">int</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  抽象類可能僅實現了接口的一部分。</span></span><br><span class="line"><span class="comment">// 擴展該抽象類時必須實現剩餘部分</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">implements</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    pubic <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"><span class="keyword">string</span> <span class="variable">$s</span></span>): <span class="title">string</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$s</span> . PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$i</span></span>): <span class="title">int</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$i</span> * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="6-同時使用繼承和介面"><a href="#6-同時使用繼承和介面" class="headerlink" title="6. 同時使用繼承和介面"></a>6. 同時使用繼承和介面</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">One</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Usable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Updatable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 關鍵字順序至關重要： &#x27;extends&#x27; 必須在前面</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Two</span> <span class="keyword">extends</span> <span class="title">One</span> <span class="keyword">implements</span> <span class="title">Usable</span>, <span class="title">Updatable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>資料來源: <a target="_blank" rel="noopener" href="https://www.php.net/">https://www.php.net/</a></p>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>PHP學習筆記(持續更新中)</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://joe94113.github.io/2021/10/05/php_learn/">https://joe94113.github.io/2021/10/05/php_learn/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>Joe</h></div></div><div class="post-copyright-c"><h>發布於</h><div class="post-copyright-cc-info"><h>2021-10-05</h></div></div><div class="post-copyright-u"><h>更新於</h><div class="post-copyright-cc-info"><h>2021-11-10</h></div></div><div class="post-copyright-c"><h>許可協議</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Backend/">Backend</a><a class="post-meta__tags" href="/tags/PHP/">PHP</a></div><div class="post_share"><div class="social-share" data-image="https://s3.ap-northeast-1.wasabisys.com/img.tw511.com/202007/5e268989b1fa4782iicm13wlgpv.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打賞</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/donat.jpg" target="_blank"><img class="post-qr-code-img" src="/images/donat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/images/ETH.jpg" target="_blank"><img class="post-qr-code-img" src="/images/ETH.jpg" alt="乙太幣"/></a><div class="post-qr-code-desc">乙太幣</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/09/10/Html_select_can_not_submit/"><img class="prev-cover" src="https://andrejgajdos.com/wp-content/uploads/2019/09/custom-select-dropdown-html.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Html select選單設定'disabled' =&gt; 'true'無法submit解法</div></div></a></div><div class="next-post pull-right"><a href="/2021/10/13/laravel_use_chosen/"><img class="next-cover" src="https://occ-0-1722-92.1.nflxso.net/dnm/api/v6/LmEnxtiAuzezXBjYXPuDgfZ4zZQ/AAAABdW3qhonFtfkASHZqbnCS2Z_dtpsjhW6a_boKPMtEoggWgRkldJihZKj6Ik-LDcvW1UTtZ-AtuknwvzsQ3_a-e5ZE6_9ezWJ7B5d.png?r=d7b" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">How to use Chosen JQuery plugin on Laravel</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/2021/11/30/php-A-non-numeric-value-encountered-error/" title="php A non-numeric value encountered_error"><img class="cover" src="https://i.imgur.com/RvS9sLd.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-30</div><div class="title">php A non-numeric value encountered_error</div></div></a></div><div><a href="/2021/12/26/Laravel-Notification-Channels-FCM/" title="Laravel-Notification-Channels-FCM"><img class="cover" src="/images/default/default3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-26</div><div class="title">Laravel-Notification-Channels-FCM</div></div></a></div><div><a href="/2021/12/21/Laravel-change-Connection-for-Notifications-table/" title="laravel notification table 連接到其他資料庫"><img class="cover" src="https://imgur.com/eQZytWP.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-21</div><div class="title">laravel notification table 連接到其他資料庫</div></div></a></div><div><a href="/2021/10/14/Laravel_Carbon/" title="Laravel Carbon"><img class="cover" src="https://media-exp1.licdn.com/dms/image/C4E0BAQGrh64aKZvs1Q/company-logo_200_200/0/1631143258595?e=2159024400&v=beta&t=P_I8tRCiinaKmmL5RYCEiptle-Df-DrTqiJA9Xh5rg0" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-14</div><div class="title">Laravel Carbon</div></div></a></div><div><a href="/2021/10/27/Laravel_Seeder/" title="Laravel Seeders"><img class="cover" src="https://www.medalibouk.com/storage/posts/July2020/KdAAsrMDdEXIZurSseKa.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-27</div><div class="title">Laravel Seeders</div></div></a></div><div><a href="/2021/09/10/Laravel_start/" title="Laravel起步走"><img class="cover" src="https://developerhoster.com/content/images/size/w960/2021/09/banner-2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-10</div><div class="title">Laravel起步走</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 評論</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Joe</div><div class="author-info__description">人生，努力了、珍惜了、問心無愧，如此，甚好。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">標籤</div><div class="length-num">27</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分類</div><div class="length-num">10</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/joe94113"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:joe94113@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.instagram.com/guan___zhi/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a><a class="social-icon" href="https://stackoverflow.com/users/15393688/joe" target="_blank" title="Stackoverflow"><i class="fab fa-stack-overflow"></i></a><a class="social-icon" href="https://www.linkedin.com/in/joe94113/" target="_blank" title="Linkedin"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://codepen.io/joe94113" target="_blank" title="Codepen"><i class="fab fa-codepen"></i></a><a class="social-icon" href="https://www.kaggle.com/joe94113" target="_blank" title="Kaggle"><i class="fab fa-kaggle"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-%E6%8C%81%E7%BA%8C%E6%9B%B4%E6%96%B0%E4%B8%AD"><span class="toc-number">1.</span> <span class="toc-text">PHP 學習筆記(持續更新中)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-%E7%9A%84%E8%B3%87%E6%96%99%E5%9E%8B%E6%85%8B"><span class="toc-number">1.1.</span> <span class="toc-text">PHP 的資料型態</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bollean-%E5%B8%83%E6%9E%97%E5%80%BC"><span class="toc-number">1.1.1.</span> <span class="toc-text">Bollean 布林值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Integer-%E6%95%B4%E6%95%B8%E5%9E%8B%E6%85%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">Integer 整數型態</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Float-%E7%AC%A6%E9%BB%9E%E6%95%B8"><span class="toc-number">1.1.3.</span> <span class="toc-text">Float 符點數</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.1.4.</span> <span class="toc-text">string 字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Array-%E6%95%B8%E7%B5%84"><span class="toc-number">1.1.5.</span> <span class="toc-text">Array 數組</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Iterable-%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%B0%8D%E8%B1%A1"><span class="toc-number">1.1.6.</span> <span class="toc-text">Iterable 可迭代對象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-%E5%B0%8D%E8%B1%A1"><span class="toc-number">1.1.7.</span> <span class="toc-text">Object 對象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Null-%E9%A1%9E%E5%9E%8B"><span class="toc-number">1.1.8.</span> <span class="toc-text">Null 類型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-%E8%AE%8A%E6%95%B8%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87"><span class="toc-number">1.2.</span> <span class="toc-text">PHP 變數命名規則</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-%E5%B8%B8%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text">PHP 常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.</span> <span class="toc-text">PHP 運算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%95%B8%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.1.</span> <span class="toc-text">算數運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B3%A6%E5%80%BC%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.2.</span> <span class="toc-text">賦值運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E5%85%83%E9%81%8B%E7%AE%97"><span class="toc-number">1.4.3.</span> <span class="toc-text">位元運算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BC%83%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.4.</span> <span class="toc-text">比較運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%B7%E8%A1%8C%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.5.</span> <span class="toc-text">執行運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%9E%E5%A2%9E-%E9%81%9E%E6%B8%9B%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.6.</span> <span class="toc-text">遞增&#x2F;遞減運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%82%8F%E8%BC%AF%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.7.</span> <span class="toc-text">邏輯運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.8.</span> <span class="toc-text">字符串運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B8%E7%B5%84%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.9.</span> <span class="toc-text">數組運算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%9E%E5%9E%8B%E9%81%8B%E7%AE%97%E7%AC%A6"><span class="toc-number">1.4.10.</span> <span class="toc-text">類型運算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.</span> <span class="toc-text">PHP 流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#If-Else-%E5%88%A4%E6%96%B7%E5%8F%A5"><span class="toc-number">1.5.1.</span> <span class="toc-text">If Else 判斷句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#else-if-%E5%88%A4%E6%96%B7%E5%8F%A5"><span class="toc-number">1.5.2.</span> <span class="toc-text">else if 判斷句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while-%E8%BF%B4%E5%9C%88"><span class="toc-number">1.5.3.</span> <span class="toc-text">while 迴圈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#do-while-%E8%BF%B4%E5%9C%88"><span class="toc-number">1.5.4.</span> <span class="toc-text">do-while 迴圈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for-%E8%BF%B4%E5%9C%88"><span class="toc-number">1.5.5.</span> <span class="toc-text">for 迴圈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#foreach"><span class="toc-number">1.5.6.</span> <span class="toc-text">foreach</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#break"><span class="toc-number">1.5.7.</span> <span class="toc-text">break</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#continue"><span class="toc-number">1.5.8.</span> <span class="toc-text">continue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#switch"><span class="toc-number">1.5.9.</span> <span class="toc-text">switch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#match"><span class="toc-number">1.5.10.</span> <span class="toc-text">match</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#declare"><span class="toc-number">1.5.11.</span> <span class="toc-text">declare</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#return"><span class="toc-number">1.5.12.</span> <span class="toc-text">return</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#require"><span class="toc-number">1.5.13.</span> <span class="toc-text">require</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#include"><span class="toc-number">1.5.14.</span> <span class="toc-text">include</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#require-once"><span class="toc-number">1.5.15.</span> <span class="toc-text">require_once</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#include-once"><span class="toc-number">1.5.16.</span> <span class="toc-text">include_once</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-%E5%87%BD%E6%95%B8"><span class="toc-number">1.6.</span> <span class="toc-text">PHP 函數</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E7%BE%A9%E5%87%BD%E6%95%B8"><span class="toc-number">1.6.1.</span> <span class="toc-text">自定義函數</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B8%E7%9A%84%E5%8F%83%E6%95%B8"><span class="toc-number">1.6.2.</span> <span class="toc-text">函數的參數</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%90%91%E5%87%BD%E6%95%B8%E5%82%B3%E9%81%9E-array"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">1. 向函數傳遞 array:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E5%B0%BE%E5%B7%B4%E9%80%97%E8%99%9F"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">2. 使用尾巴逗號</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9C%A8%E5%BC%B7%E5%88%B6%E5%8F%83%E6%95%B8%E4%B9%8B%E5%BE%8C%E5%82%B3%E9%81%9E%E5%8F%AF%E9%81%B8%E5%8F%83%E6%95%B8"><span class="toc-number">1.6.2.3.</span> <span class="toc-text">3. 在強制參數之後傳遞可選參數</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%9C%A8%E5%87%BD%E6%95%B8%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AA%8D%E5%8F%83%E6%95%B8"><span class="toc-number">1.6.2.4.</span> <span class="toc-text">4. 在函數中使用默認參數</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%87%BD%E6%95%B8%E9%BB%98%E8%AA%8D%E5%8F%83%E6%95%B8%E7%9A%84%E4%B8%8D%E6%AD%A3%E7%A2%BA%E7%94%A8%E6%B3%95"><span class="toc-number">1.6.2.5.</span> <span class="toc-text">5. 函數默認參數的不正確用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%87%BD%E6%95%B8%E9%BB%98%E8%AA%8D%E5%8F%83%E6%95%B8%E6%AD%A3%E7%A2%BA%E7%94%A8%E6%B3%95"><span class="toc-number">1.6.2.6.</span> <span class="toc-text">6. 函數默認參數正確用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E4%BD%BF%E7%94%A8-%E2%80%A6-%E4%BE%86%E8%A8%AA%E5%95%8F%E8%AE%8A%E9%87%8F%E5%8F%83%E6%95%B8"><span class="toc-number">1.6.2.7.</span> <span class="toc-text">7. 使用 … 來訪問變量參數</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E4%BD%BF%E7%94%A8%E2%80%A6%E4%BE%86%E5%82%B3%E9%81%9E%E5%8F%83%E6%95%B8"><span class="toc-number">1.6.2.8.</span> <span class="toc-text">8. 使用…來傳遞參數</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E8%BC%B8%E5%85%A5%E6%8F%90%E7%A4%BA%E7%9A%84%E8%AE%8A%E9%87%8F%E5%8F%83%E6%95%B8"><span class="toc-number">1.6.2.9.</span> <span class="toc-text">9. 輸入提示的變量參數</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%87%BD%E6%95%B8"><span class="toc-number">1.6.2.10.</span> <span class="toc-text">命名函數</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-%E5%91%BD%E5%90%8D%E5%8F%83%E6%95%B8%E8%AA%9E%E6%B3%95"><span class="toc-number">1.6.2.11.</span> <span class="toc-text">10. 命名參數語法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E9%80%9A%E9%81%8E%E4%BD%8D%E7%BD%AE%E5%82%B3%E5%8F%83%E8%88%87%E5%91%BD%E5%90%8D%E5%8F%83%E6%95%B8%E7%9A%84%E5%B0%8D%E6%AF%94"><span class="toc-number">1.6.2.12.</span> <span class="toc-text">11. 通過位置傳參與命名參數的對比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-%E4%B8%8D%E5%8F%AF%E5%A4%9A%E6%AC%A1%E5%82%B3%E9%81%9E%E7%B5%A6%E5%90%8C%E4%B8%80%E5%80%8B%E5%8F%83%E6%95%B8"><span class="toc-number">1.6.2.13.</span> <span class="toc-text">12. 不可多次傳遞給同一個參數</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC-return"><span class="toc-number">1.6.3.</span> <span class="toc-text">返回值 return</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E7%A4%8E%E8%AA%9E%E6%B3%95"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">1. 基礎語法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%BF%94%E5%9B%9E%E4%B8%80%E5%80%8B%E6%95%B8%E7%B5%84%E4%BB%A5%E5%BE%97%E5%88%B0%E5%A4%9A%E5%80%8B%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">2. 返回一個數組以得到多個返回值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%BF%94%E5%9B%9E%E4%B8%80%E5%80%8B%E5%BC%95%E7%94%A8"><span class="toc-number">1.6.3.3.</span> <span class="toc-text">3. 返回一個引用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%AE%8A%E5%87%BD%E6%95%B8"><span class="toc-number">1.6.4.</span> <span class="toc-text">可變函數</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8F%AF%E8%AE%8A%E5%87%BD%E6%95%B8%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">1. 可變函數示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%AF%E8%AE%8A%E6%96%B9%E6%B3%95%E7%AF%84%E4%BE%8B"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">2. 可變方法範例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Variable-%E6%96%B9%E6%B3%95%E5%92%8C%E9%9D%9C%E6%85%8B%E5%B1%AC%E6%80%A7%E7%AF%84%E4%BE%8B"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">3. Variable 方法和靜態屬性範例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%A4%87%E9%9B%9C%E7%9A%84%E5%8F%AF%E8%AA%BF%E7%94%A8%E5%B0%8D%E8%B1%A1"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">4. 複雜的可調用對象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E9%83%A8%EF%BC%88%E5%86%85%E7%BD%AE%EF%BC%89%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.5.</span> <span class="toc-text">内部（内置）函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.6.</span> <span class="toc-text">匿名函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B8%E7%AF%84%E4%BE%8B"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">1. 匿名函數範例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B8%E8%AE%8A%E9%87%8F%E8%B3%A6%E5%80%BC%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">2. 匿名函數變量賦值示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%BE%9E%E7%88%B6%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%B9%BC%E6%89%BF%E8%AE%8A%E6%95%B8"><span class="toc-number">1.6.6.3.</span> <span class="toc-text">3. 從父作用域繼承變數</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E9%A0%AD%E5%87%BD%E6%95%B8"><span class="toc-number">1.6.7.</span> <span class="toc-text">箭頭函數</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%AE%AD%E9%A0%AD%E5%87%BD%E6%95%B8%E8%87%AA%E5%8B%95%E6%8D%95%E6%8D%89%E8%AE%8A%E6%95%B8%E7%9A%84%E5%80%BC"><span class="toc-number">1.6.7.1.</span> <span class="toc-text">1. 箭頭函數自動捕捉變數的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%AE%AD%E9%A0%AD%E5%87%BD%E6%95%B8%E8%87%AA%E5%8B%95%E6%8D%95%E6%8D%89%E8%AE%8A%E9%87%8F%E7%9A%84%E5%80%BC%EF%BC%8C%E5%8D%B3%E4%BD%BF%E5%9C%A8%E5%B5%8C%E5%A5%97%E7%9A%84%E6%83%85%E6%B3%81%E4%B8%8B"><span class="toc-number">1.6.7.2.</span> <span class="toc-text">2. 箭頭函數自動捕捉變量的值，即使在嵌套的情況下</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%AE%AD%E9%A0%AD%E5%87%BD%E6%95%B8%E6%9C%89%E6%95%88%E7%94%A8%E6%B3%95%E4%BE%8B%E5%AD%90"><span class="toc-number">1.6.7.3.</span> <span class="toc-text">3. 箭頭函數有效用法例子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BE%86%E8%87%AA%E5%A4%96%E9%83%A8%E7%AF%84%E5%9C%8D%E7%9A%84%E5%80%BC%E4%B8%8D%E8%83%BD%E5%9C%A8%E7%AE%AD%E9%A0%AD%E5%87%BD%E6%95%B8%E5%85%A7%E4%BF%AE%E6%94%B9"><span class="toc-number">1.6.7.4.</span> <span class="toc-text">4. 來自外部範圍的值不能在箭頭函數內修改</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#class-%E9%A1%9E"><span class="toc-number">1.7.</span> <span class="toc-text">class 類</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#class-%E5%9F%BA%E6%9C%AC"><span class="toc-number">1.7.1.</span> <span class="toc-text">class 基本</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E7%B0%A1%E5%96%AE%E7%9A%84%E9%A1%9E%E5%AE%9A%E7%BE%A9"><span class="toc-number">1.7.1.0.1.</span> <span class="toc-text">1. 簡單的類定義</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#new"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">new</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%89%B5%E5%BB%BA%E5%AF%A6%E4%BE%8B"><span class="toc-number">1.7.1.1.1.</span> <span class="toc-text">2. 創建實例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%89%B5%E5%BB%BA%E6%96%B0%E5%B0%8D%E8%B1%A1"><span class="toc-number">1.7.1.1.2.</span> <span class="toc-text">3. 創建新對象</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%AC%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">屬性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E8%A8%AA%E5%95%8F%E9%A1%9E%E5%B1%AC%E6%80%A7-vs-%E8%AA%BF%E7%94%A8%E9%A1%9E%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.1.2.1.</span> <span class="toc-text">4. 訪問類屬性 vs. 調用類方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E9%A1%9E%E5%B1%AC%E6%80%A7%E8%A2%AB%E8%B3%A6%E5%80%BC%E7%82%BA%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B8%E6%99%82%E7%9A%84%E8%AA%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.7.1.2.2.</span> <span class="toc-text">5. 類屬性被賦值為匿名函數時的調用示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#extends-%E7%B9%BC%E6%89%BF"><span class="toc-number">1.7.1.3.</span> <span class="toc-text">extends 繼承</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-%E7%B0%A1%E5%96%AE%E7%9A%84%E9%A1%9E%E7%B9%BC%E6%89%BF%E7%AF%84%E4%BE%8B"><span class="toc-number">1.7.1.3.1.</span> <span class="toc-text">6. 簡單的類繼承範例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B0%BD%E5%90%8D%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A6%8F%E5%89%87"><span class="toc-number">1.7.1.4.</span> <span class="toc-text">簽名兼容性規則</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7-%E5%85%BC%E5%AE%B9%E5%AD%90%E9%A1%9E%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.1.4.1.</span> <span class="toc-text">7. 兼容子類方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-%E5%AD%90%E9%A1%9E%E6%96%B9%E6%B3%95%E7%A7%BB%E9%99%A4%E5%8F%83%E6%95%B8%E5%90%8E%EF%BC%8C%E5%B0%8E%E8%87%B4-Fatal-%E8%87%B4%E5%91%BD-%E9%8C%AF%E8%AA%A4"><span class="toc-number">1.7.1.4.2.</span> <span class="toc-text">8.子類方法移除參數后，導致 Fatal(致命) 錯誤</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#class"><span class="toc-number">1.7.1.5.</span> <span class="toc-text">::class</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#9-%E9%A1%9E%E5%90%8D%E7%9A%84%E8%A7%A3%E6%9E%90"><span class="toc-number">1.7.1.5.1.</span> <span class="toc-text">9. 類名的解析</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10-%E8%A7%A3%E6%9E%90%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E9%A1%9E%E5%90%8D"><span class="toc-number">1.7.1.5.2.</span> <span class="toc-text">10. 解析不存在的類名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11-%E9%A1%9E%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="toc-number">1.7.1.5.3.</span> <span class="toc-text">11. 類名解析</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nullsafe-%E6%96%B9%E6%B3%95%E5%92%8C%E5%B1%AC%E6%80%A7"><span class="toc-number">1.7.1.6.</span> <span class="toc-text">Nullsafe 方法和屬性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#12-Nullsafe-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">1.7.1.6.1.</span> <span class="toc-text">12. Nullsafe 操作符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#class-%E5%B1%AC%E6%80%A7"><span class="toc-number">1.7.2.</span> <span class="toc-text">class 屬性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%9E%E5%B8%B8%E9%87%8F"><span class="toc-number">1.7.3.</span> <span class="toc-text">類常量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%9E%E7%9A%84%E8%87%AA%E5%8B%95%E5%8A%A0%E8%BC%89"><span class="toc-number">1.7.4.</span> <span class="toc-text">類的自動加載</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E8%87%AA%E5%8B%95%E5%8A%A0%E8%BC%89%E7%AF%84%E4%BE%8B"><span class="toc-number">1.7.4.0.1.</span> <span class="toc-text">1. 自動加載範例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E8%87%AA%E5%8B%95%E5%8A%A0%E8%BC%89%E5%9C%A8-PHP-5-3-0-%E4%B8%AD%E7%9A%84%E7%95%B0%E5%B8%B8%E8%99%95%E7%90%86"><span class="toc-number">1.7.4.0.2.</span> <span class="toc-text">2. 自動加載在 PHP 5.3.0+ 中的異常處理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A7%8B%E9%80%A0%E5%87%BD%E6%95%B8%E5%92%8C%E6%9E%90%E6%A7%8B%E5%87%BD%E6%95%B8"><span class="toc-number">1.7.5.</span> <span class="toc-text">構造函數和析構函數</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A7%8B%E9%80%A0%E5%87%BD%E6%95%B8"><span class="toc-number">1.7.5.1.</span> <span class="toc-text">構造函數</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E7%B9%BC%E6%89%BF%E4%B8%AD%E7%9A%84%E6%A7%8B%E9%80%A0%E5%87%BD%E6%95%B8"><span class="toc-number">1.7.5.1.1.</span> <span class="toc-text">1. 繼承中的構造函數</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%A7%8B%E9%80%A0%E5%99%A8%E5%87%BD%E6%95%B8"><span class="toc-number">1.7.5.1.2.</span> <span class="toc-text">2. 構造器函數</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%90%E6%A7%8B%E5%87%BD%E6%95%B8"><span class="toc-number">1.7.5.2.</span> <span class="toc-text">析構函數</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%9E%90%E6%A7%8B%E5%87%BD%E6%95%B8%E7%AF%84%E4%BE%8B"><span class="toc-number">1.7.5.2.1.</span> <span class="toc-text">1. 析構函數範例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A8%AA%E5%95%8F%E6%8E%A7%E5%88%B6-%E5%8F%AF%E8%A6%8B%E6%80%A7"><span class="toc-number">1.7.6.</span> <span class="toc-text">訪問控制(可見性)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%AC%E6%80%A7%E7%9A%84%E8%A8%AA%E5%95%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.7.6.1.</span> <span class="toc-text">屬性的訪問控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%B1%AC%E6%80%A7%E8%81%B2%E6%98%8E"><span class="toc-number">1.7.6.1.1.</span> <span class="toc-text">1. 屬性聲明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E8%A8%AA%E5%95%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.7.6.2.</span> <span class="toc-text">方法的訪問控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E8%81%B2%E6%98%8E"><span class="toc-number">1.7.6.2.1.</span> <span class="toc-text">方法聲明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E7%9A%84%E6%8E%A7%E5%88%B6%E8%A8%AA%E5%95%8F"><span class="toc-number">1.7.6.3.</span> <span class="toc-text">常量的控制訪問</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#php-7-1-up-%E4%B8%AD%E5%B8%B8%E9%87%8F%E8%81%B2%E6%98%8E"><span class="toc-number">1.7.6.3.1.</span> <span class="toc-text">php 7.1 up 中常量聲明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%B0%8D%E8%B1%A1%E7%9A%84%E8%A8%AA%E5%95%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.7.6.4.</span> <span class="toc-text">其他對象的訪問控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A8%AA%E5%95%8F%E5%90%8C%E4%B8%80%E5%80%8B%E5%B0%8D%E5%83%8F%E9%A1%9E%E5%9E%8B%E7%9A%84%E7%A7%81%E6%9C%89%E6%88%90%E5%93%A1"><span class="toc-number">1.7.6.4.1.</span> <span class="toc-text">訪問同一個對像類型的私有成員</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E5%9C%8D%E8%A7%A3%E6%9E%90%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">1.7.7.</span> <span class="toc-text">範圍解析操作符(::)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E9%A1%9E%E7%9A%84%E5%A4%96%E9%83%A8%E4%BD%BF%E7%94%A8-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">1.7.7.0.1.</span> <span class="toc-text">在類的外部使用 :: 操作符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E9%A1%9E%E5%AE%9A%E7%BE%A9%E5%85%A7%E9%83%A8%E4%BD%BF%E7%94%A8"><span class="toc-number">1.7.7.0.2.</span> <span class="toc-text">在類定義內部使用 ::</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AA%BF%E7%94%A8%E7%88%B6%E9%A1%9E%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.7.0.3.</span> <span class="toc-text">調用父類的方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9C%E6%85%8B-static-%E9%97%9C%E9%8D%B5%E5%AD%97"><span class="toc-number">1.7.8.</span> <span class="toc-text">靜態(static)關鍵字</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9C%E6%85%8B%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.8.1.</span> <span class="toc-text">靜態方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%9C%E6%85%8B%E6%96%B9%E6%B3%95%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.7.8.1.1.</span> <span class="toc-text">靜態方法示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9C%E6%85%8B%E5%B1%AC%E6%80%A7"><span class="toc-number">1.7.8.2.</span> <span class="toc-text">靜態屬性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E9%A1%9E"><span class="toc-number">1.7.9.</span> <span class="toc-text">抽象類</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%8A%BD%E8%B1%A1%E9%A1%9E%E7%AF%84%E4%BE%8B-1"><span class="toc-number">1.7.9.1.</span> <span class="toc-text">1. 抽象類範例 1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%8A%BD%E8%B1%A1%E9%A1%9E%E7%AF%84%E4%BE%8B-2"><span class="toc-number">1.7.9.2.</span> <span class="toc-text">2. 抽象類範例 2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interface-%E5%B0%8D%E8%B1%A1%E6%8E%A5%E5%8F%A3%E4%B9%9F%E7%A8%B1%E4%BB%8B%E9%9D%A2"><span class="toc-number">1.7.10.</span> <span class="toc-text">Interface 對象接口也稱介面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%A6%E7%8F%BE-implements"><span class="toc-number">1.7.10.1.</span> <span class="toc-text">實現 implements</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%BB%8B%E9%9D%A2%E7%AF%84%E4%BE%8B"><span class="toc-number">1.7.10.1.1.</span> <span class="toc-text">1. 介面範例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%8F%AF%E6%93%B4%E5%85%85%E4%BB%8B%E9%9D%A2"><span class="toc-number">1.7.10.1.2.</span> <span class="toc-text">2. 可擴充介面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%8B%93%E5%B1%95%E5%A4%9A%E4%BB%8B%E9%9D%A2"><span class="toc-number">1.7.10.1.3.</span> <span class="toc-text">3. 拓展多介面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8%E4%BB%8B%E9%9D%A2%E5%B8%B8%E9%87%8F"><span class="toc-number">1.7.10.1.4.</span> <span class="toc-text">4. 使用介面常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E6%8A%BD%E8%B1%A1%EF%BC%88abstract%EF%BC%89%E9%A1%9E%E7%9A%84%E4%BB%8B%E9%9D%A2%E4%BD%BF%E7%94%A8"><span class="toc-number">1.7.10.1.5.</span> <span class="toc-text">5. 抽象（abstract）類的介面使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-%E5%90%8C%E6%99%82%E4%BD%BF%E7%94%A8%E7%B9%BC%E6%89%BF%E5%92%8C%E4%BB%8B%E9%9D%A2"><span class="toc-number">1.7.10.1.6.</span> <span class="toc-text">6. 同時使用繼承和介面</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/01/23/js-synchronous-and-asynchronous/" title="JS 執行緒與同步,非同步"><img src="/images/default/default3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JS 執行緒與同步,非同步"/></a><div class="content"><a class="title" href="/2022/01/23/js-synchronous-and-asynchronous/" title="JS 執行緒與同步,非同步">JS 執行緒與同步,非同步</a><time datetime="2022-01-23T08:07:08.000Z" title="發表於 2022-01-23 16:07:08">2022-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/23/js-memory-storage-and-release/" title="JS 記憶體存放與釋放"><img src="https://imgur.com/bFglVKg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JS 記憶體存放與釋放"/></a><div class="content"><a class="title" href="/2022/01/23/js-memory-storage-and-release/" title="JS 記憶體存放與釋放">JS 記憶體存放與釋放</a><time datetime="2022-01-23T08:06:30.000Z" title="發表於 2022-01-23 16:06:30">2022-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/23/js-hoisting/" title="Javascript 提升（Hoisting）"><img src="/images/default/default4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Javascript 提升（Hoisting）"/></a><div class="content"><a class="title" href="/2022/01/23/js-hoisting/" title="Javascript 提升（Hoisting）">Javascript 提升（Hoisting）</a><time datetime="2022-01-23T08:05:49.000Z" title="發表於 2022-01-23 16:05:49">2022-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/23/how-js-works/" title="JavaScript 是如何運行"><img src="/images/default/default1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript 是如何運行"/></a><div class="content"><a class="title" href="/2022/01/23/how-js-works/" title="JavaScript 是如何運行">JavaScript 是如何運行</a><time datetime="2022-01-23T08:05:13.000Z" title="發表於 2022-01-23 16:05:13">2022-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/04/laravel-scout-search-example/" title="Laravel8 Scout Search"><img src="https://storage.googleapis.com/twg-content/images/MarketingResources_Thumbnail_Search.width-1200.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Laravel8 Scout Search"/></a><div class="content"><a class="title" href="/2022/01/04/laravel-scout-search-example/" title="Laravel8 Scout Search">Laravel8 Scout Search</a><time datetime="2022-01-04T13:36:12.000Z" title="發表於 2022-01-04 21:36:12">2022-01-04</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://s3.ap-northeast-1.wasabisys.com/img.tw511.com/202007/5e268989b1fa4782iicm13wlgpv.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Joe</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="簡繁轉換">繁</button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直達評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜尋</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'AvmaKpg1Jm6knyjqmUvLisTT-MdYXbMMI',
      appKey: 'QccmMlgJBk3dFxRA6c5aLOqw',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-TW',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '//i0.hdslb.com/bfs/emote/',
      emojiMaps: {"tv_doge":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_親親":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_偷笑":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_再見":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_冷漠":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_發怒":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_發財":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_可愛":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_吐血":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_呆":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_嘔吐":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_困":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_壞笑":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_大佬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_大哭":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_委屈":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_害羞":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_尷尬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_微笑":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_思考":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_驚嚇":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png"},
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://joe94113.github.io/2021/10/05/php_learn/'
    this.page.identifier = '2021/10/05/php_learn/'
    this.page.title = 'PHP學習筆記(持續更新中)'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://joe94113.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Valine' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.17.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[圖片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[連結]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代碼]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '沒有評論'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://AvmaKpg1.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'AvmaKpg1Jm6knyjqmUvLisTT-MdYXbMMI',
        "X-LC-Key": 'QccmMlgJBk3dFxRA6c5aLOqw',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=5&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "無法獲取評論，請確認相關配置是否正確"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="6954660951" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" data-theme="#9e8ee6" muted></div><script defer src="/live2d-widget/autoload.js"></script><script async src="//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script src="//code.tidio.co/vzs39ctlcaqi6itgnorfqsaezuyjd70f.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/aboutBlog/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'UA-177446378-1', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                console.log('已挂载history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='all'|| 'all' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax  src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="/images/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-butterfly-clock/lib/clock.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/01/04/laravel-scout-search-example/" alt=""><img width="48" height="48" src="https://storage.googleapis.com/twg-content/images/MarketingResources_Thumbnail_Search.width-1200.jpg" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-01-04</span><a class="blog-slider__title" href="2022/01/04/laravel-scout-search-example/" alt="">Laravel8 Scout Search</a><div class="blog-slider__text">Laravel scount Algolia search搜尋範例</div><a class="blog-slider__button" href="2022/01/04/laravel-scout-search-example/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/10/14/laravel_storeAdd_notification_to_user/" alt=""><img width="48" height="48" src="https://developers.google.com/web/updates/images/generic/notifications.png?hl=zh-tw" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-10-14</span><a class="blog-slider__title" href="2021/10/14/laravel_storeAdd_notification_to_user/" alt="">Laravel use notification when some data add</a><div class="blog-slider__text">當有商家新增了將通知給使用者</div><a class="blog-slider__button" href="2021/10/14/laravel_storeAdd_notification_to_user/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/10/27/Laravel_Seeder/" alt=""><img width="48" height="48" src="https://www.medalibouk.com/storage/posts/July2020/KdAAsrMDdEXIZurSseKa.jpg" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-10-27</span><a class="blog-slider__title" href="2021/10/27/Laravel_Seeder/" alt="">Laravel Seeders</a><div class="blog-slider__text">介紹Laravel Seeders</div><a class="blog-slider__button" href="2021/10/27/Laravel_Seeder/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/09/08/laravel_google_place_api/" alt=""><img width="48" height="48" src="https://spiralking.com/wp-content/uploads/2019/04/google-place.jpg" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-09-08</span><a class="blog-slider__title" href="2021/09/08/laravel_google_place_api/" alt="">Laravel use google map place api輸入地址取得經緯度</a><div class="blog-slider__text">laravel使用google place api</div><a class="blog-slider__button" href="2021/09/08/laravel_google_place_api/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/09/10/laravel_auto_download/" alt=""><img width="48" height="48" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtSaORKeMowAMvfKdUm3KLkXgiby-2JKSFEA&amp;usqp=CAU" alt="" onerror="this.src=https://cdn.jsdelivr.net/npm/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-09-10</span><a class="blog-slider__title" href="2021/09/10/laravel_auto_download/" alt="">laravel排程下載外部Url檔案，及更新進資料庫資料</a><div class="blog-slider__text">laravel排程下載csv檔案並存入資料庫</div><a class="blog-slider__button" href="2021/09/10/laravel_auto_download/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/js/swiper.min.js"></script><script defer data-pjax src="https://cdn.jsdelivr.net/npm/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
                        function gitcalendar_injector_config(){
                          var parent_div_git = document.getElementById('recent-posts');
                          var item_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
                          parent_div_git.insertAdjacentHTML("afterbegin",item_html)
                          console.log('已挂载gitcalendar')
                          }

                        if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
                            gitcalendar_injector_config()
                            GitCalendarInit("https://python-github-calendar-api-gray.vercel.app/api?joe94113",['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'],'joe94113')
                        }
                      </script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>